(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7966],{80940:function(e,n,s){"use strict";var t=s(64836);n.Z=void 0;var r=t(s(64938)),a=s(85893),i=(0,r.default)((0,a.jsx)("path",{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z"}),"EditNote");n.Z=i},80257:function(e,n,s){"use strict";var t=s(64836);n.Z=void 0;var r=t(s(64938)),a=s(85893),i=(0,r.default)((0,a.jsx)("path",{d:"M12 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm6-1.8C18 6.57 15.35 4 12 4s-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.8 6-9.14zM12 2c4.2 0 8 3.22 8 8.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 5.22 7.8 2 12 2z"}),"FmdGoodOutlined");n.Z=i},78340:function(e,n,s){"use strict";var t=s(64836);n.Z=void 0;var r=t(s(64938)),a=s(85893),i=(0,r.default)([(0,a.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-1 18H5V9h14v11zm1-13H4V4h16v3z"},"0"),(0,a.jsx)("path",{d:"M9 12h6v2H9z"},"1")],"Inventory2Outlined");n.Z=i},84865:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return s(55059)}])},53294:function(e,n,s){"use strict";var t=s(85893);s(67294);n.Z=function(e){var n=e.message;return(0,t.jsx)("p",{children:(0,t.jsx)("small",{className:"error-message",children:n})})}},72760:function(e,n,s){"use strict";var t=s(26042),r=s(69396),a=s(85893),i=s(96486),d=s(53294),o=s(45697),c=s.n(o),l=function(e){var n=e.type,s=e.className,o=e.errors,c=e.id,l=e.placeholder,u=e.value,m=e.name,h=e.registerRef,f=e.onChange,p=e.handleBlur,g=e.disabled,v=e.style;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",(0,r.Z)((0,t.Z)({type:n,className:s,id:c,placeholder:l,onBlur:p,value:u,name:m,style:v},h),{onChange:function(e){return f(e,n)},disabled:g||!1})),o&&(0,a.jsx)("div",{className:"error-message",children:(0,a.jsx)(d.Z,{message:(0,i.get)(o,"".concat(m,".message"),"")})})]})};l.propTypes={type:c().string.isRequired,className:c().string,errors:c().object.isRequired,id:c().string.isRequired,placeholder:c().string.isRequired,value:c().oneOfType([c().string,c().number]),name:c().string.isRequired,registerRef:c().object,onChange:c().func.isRequired,handleBlur:c().func,disabled:c().bool,style:c().object},n.Z=l},80138:function(e,n,s){"use strict";var t=s(85893),r=(s(67294),s(98456));n.Z=function(){return(0,t.jsx)(r.Z,{color:"inherit",size:"20px"})}},81427:function(e,n,s){"use strict";var t=s(85893),r=s(67294),a=s(53294),i=s(96486),d=s(45697),o=s.n(d),c=function(e){var n=e.errors,s=e.placeholder,d=e.registerRef,o=e.name,c=e.onChange,l=e.value,u=e.className,m=e.id,h=e.type,f=(0,r.useState)(!1),p=f[0],g=f[1],v=function(){g(!p)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"password-container",children:[(0,t.jsx)("input",{type:p?"text":"password",className:u,id:m,placeholder:s,value:l,name:o,onChange:function(e){return c(e,h)},ref:d}),p?(0,t.jsx)("i",{className:"fas fa-eye password-icon ",onClick:v}):(0,t.jsx)("i",{className:"fas fa-eye-slash password-icon",onClick:v})]}),(0,t.jsx)(a.Z,{message:(0,i.get)(n,"".concat(o,".message"),"")})]})};c.propTypes={errors:o().object.isRequired,placeholder:o().string.isRequired,registerRef:o().object,name:o().string.isRequired,onChange:o().func.isRequired,value:o().string.isRequired,className:o().string,id:o().string.isRequired,type:o().string.isRequired},n.Z=c},55059:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return ne}});var t=s(85893),r=s(41664),a=s.n(r),i=s(67294),d=s(33299),o=s(80257),c=s(78340),l=s(80940),u=s(10682),m=s(26042),h=s(69396),f=s(828),p=s(45697),g=function(e){var n=e.items,s=(0,f.Z)(n,2),r=s[0],a=s[1];return(0,t.jsx)("div",{className:"account-sidebar",children:r.map((function(e,n){return(0,t.jsxs)("button",{onClick:function(){return function(e){var n=r.map((function(n,s){return(0,h.Z)((0,m.Z)({},n),{active:s===e})}));n[e]=(0,h.Z)((0,m.Z)({},n[e]),{active:!0}),a(n)}(n)},className:"sidebar-item ".concat(e.active?"active":""),children:[e.icon,e.name]},e.name)}))})},v=g;g.propTypes={items:s.n(p)().any.isRequired};var x=s(35774),j=s(47568),N=s(14924),y=s(70655),Z=s(66866),b=s(34193),w=s(61985),$=s(76083),S=s(46907),C=s(67555),P=s.n(C),k=s(87536),q=s(84032),_=s(55345),A=s(6103),R=s(17876),T=s(96486),L=s(35005),B=s(97346),D=s(72760),F=s(35157),E=s(45543),I=s(25617),z=s(11163),K=s(86501),H=s(80138),O=s(98456),M={order_notes:"",pincode:"",state:"",city:"",addressLine2:"",addressLine1:"",phone:"",lastName:"",firstName:"",country:"",transaction_id:"",addressType:"",defaultAddress:!1},V=[{value:"Home",label:"Home"},{value:"Office",label:"Office"}],Q=function(){var e,n,s,r,a,o,c=(0,i.useState)([]),l=c[0],u=c[1],f=(0,i.useState)(),p=f[0],g=f[1],v=(0,i.useState)(!1),x=v[0],C=v[1],H=(0,i.useState)(M),Q=H[0],U=H[1],Y=(0,i.useState)(null),J=Y[0],W=Y[1],X=(0,i.useState)(!1),G=X[0],ee=X[1],ne=(0,d.useSession)(),se=(0,I.I0)(),te=(0,z.useRouter)(),re={option:function(e,n){return(0,h.Z)((0,m.Z)({},e),{backgroundColor:n.isSelected?"#caf3fe":"inherit","&:hover":{backgroundColor:n.isSelected?"#caf3fe":"#d9f7ff"}})}},ae=(0,k.cI)({mode:"onSubmit"}),ie=ae.register,de=ae.handleSubmit,oe=ae.formState.errors,ce=ae.control,le=ae.setError,ue=function(){var e=(0,j.Z)((function(){var e,n,s,t;return(0,y.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,R.IO)(Z.Vj,{id:p})];case 1:return e=r.sent(),n=e.data,s=(0,T.get)(n,"customer.data"),t=(0,T.get)(s,"addressBook",[]),u(t),[2,s];case 2:return r.sent(),[2,[]];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),me=function(){C(!x)},he=function(e,n){if("addressType"===n)U((0,h.Z)((0,m.Z)({},Q),(0,N.Z)({},n,null===e||void 0===e?void 0:e.value)));else{var s=(0,T.get)(e,"target"),t=s.name,r=s.value;U((0,h.Z)((0,m.Z)({},Q),(0,N.Z)({},t,r)))}},fe=function(){var e=(0,j.Z)((function(e){return(0,y.__generator)(this,(function(e){switch(e.label){case 0:return(0,T.get)(Q,"addressType","")?[3,1]:(le("addressType",{type:"required",message:"Address Type is required."}),[3,5]);case 1:return J?[4,ge()]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,pe()];case 4:e.sent(),e.label=5;case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){p&&ue()}),[p]),(0,i.useEffect)((function(){"authenticated"===(null===ne||void 0===ne?void 0:ne.status)&&g((0,T.get)(ne,"data.user.accessToken.customer._id"))}),[null===ne||void 0===ne?void 0:ne.status]);var pe=function(){var e=(0,j.Z)((function(){var e,n,s,t;return(0,y.__generator)(this,(function(r){switch(r.label){case 0:ee(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,R.QF)(Z.Km,(0,m.Z)({id:p},Q))];case 2:return e=r.sent(),ee(!1),n=(0,T.get)(e,"data.addAddressBook.success"),s=(0,T.get)(e,"data.addAddressBook.message"),n?(ue(),U(M),(0,E.Z)(s,!0),C(!1)):(0,E.Z)(s,n),[3,4];case 3:return t=r.sent(),ee(!1),(0,R.S3)(t,se,te),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,j.Z)((function(){var e,n,s,t;return(0,y.__generator)(this,(function(r){switch(r.label){case 0:ee(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,R.QF)(Z.ZB,(0,m.Z)({id:p,_id:J},Q))];case 2:return e=r.sent(),ee(!1),n=(0,T.get)(e,"data.updateAddressBook.success"),s=(0,T.get)(e,"data.updateAddressBook.message"),n?(ue(),U(M),W(""),(0,E.Z)(s,!0),C(!1)):(0,E.Z)(s,n),[3,4];case 3:return t=r.sent(),ee(!1),(0,R.S3)(t,se,te),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[G&&(0,t.jsx)("div",{className:"loading-wrapper",children:(0,t.jsx)(O.Z,{})}),(0,t.jsx)(K.x7,{}),x?(0,t.jsxs)("div",{className:"billing-container",children:[(0,t.jsxs)("div",{className:"order-details-head",children:[(0,t.jsx)("button",{className:"back-btn",onClick:function(){return me()},children:(0,t.jsx)($.Z,{})}),(0,t.jsx)("h4",{children:J?"Update Address":"Add New Address"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:de(fe),children:[(0,t.jsxs)("div",{className:"twoRows",children:[(0,t.jsx)("div",{className:"col-lg-6 col-md-12 col-md-5half",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",name:"firstName",label:"firstName",placeholder:"First name *"},ie("firstName",{required:{value:!(0,T.get)(Q,"firstName",""),message:"First Name is Required"},minLength:{value:4,message:"First Name Min length is 4"}})),{errors:oe,value:(0,T.get)(Q,"firstName",""),onChange:he,onKeyDown:function(e){return(0,R.Bm)(e)}}))}),(0,t.jsx)("div",{className:"col-lg-6 col-md-12 ",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",name:"lastName",label:"lastName",placeholder:"Last name *"},ie("lastName",{required:{value:!(0,T.get)(Q,"lastName",""),message:"Last Name is Required"}})),{errors:oe,value:(0,T.get)(Q,"lastName",""),onChange:he,error:!!oe.addressFieldInfo,onKeyDown:function(e){return(0,R.Bm)(e)}}))})]}),(0,t.jsx)("div",{className:"twoRows",children:(0,t.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,t.jsx)(k.Qr,{name:"phone",control:ce,rules:{required:{value:!(0,T.get)(Q,"phone"),message:"Phone number is Required"},validate:function(){var e,n=null===(e=(0,T.get)(Q,"phone",""))||void 0===e?void 0:e.replace(/\D/g,""),s="+".concat(n);return(0,F.yf)(s)}},render:function(){return(0,t.jsx)(P(),{enableSearch:"true",country:"us",inputClass:"custom-input",placeholder:"Enter phone number",value:(null===Q||void 0===Q?void 0:Q.phone)||"",onChange:function(e){return function(e,n){U((0,h.Z)((0,m.Z)({},Q),(0,N.Z)({},e,n)))}("phone",e)}})}}),(0,t.jsx)("p",{children:(0,t.jsxs)("small",{style:{color:"red"},children:["required"===(null===oe||void 0===oe||null===(e=oe.phone)||void 0===e?void 0:e.type)?null===(n=oe.phone)||void 0===n?void 0:n.message:"","validate"===(null===oe||void 0===oe||null===(s=oe.phone)||void 0===s?void 0:s.type)?"Phone number is invalid":""]})})]})}),(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",name:"addressLine1",label:"address",placeholder:"Address Line 1*"},ie("addressLine1",{required:{value:!Q.addressLine1,message:"Address is Required"}})),{value:Q.addressLine1,onChange:function(e){he(e)},onKeyDown:function(e){return(0,R.Bm)(e)},errors:oe})),(0,t.jsx)(D.Z,{className:"input-filled",name:"addressLine2",label:"address",placeholder:"Address Line 2",value:null===Q||void 0===Q?void 0:Q.addressLine2,onChange:he,onKeyDown:function(e){return(0,R.Bm)(e)}}),(0,t.jsxs)("div",{className:"twoRows",children:[(0,t.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",type:"text",required:"",name:"city",placeholder:"City / Town *"},ie("city",{required:{value:!Q.city,message:"City is Required"}})),{value:Q.city,onChange:he,onKeyDown:function(e){return(0,R.Bm)(e)},errors:oe}))}),(0,t.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",type:"text",required:"",name:"state",placeholder:"State *"},ie("state",{required:{value:!Q.state,message:"State is Required"}})),{value:Q.state,onChange:he,onKeyDown:function(e){return(0,R.Bm)(e)},errors:oe}))}),(0,t.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",type:"text",required:"",name:"country",placeholder:"Country *"},ie("country",{required:{value:!Q.country,message:"Country is Required"}})),{value:Q.country,onChange:he,onKeyDown:function(e){return(0,R.Bm)(e)},errors:oe}))})]}),(0,t.jsxs)("div",{className:"twoRows",children:[(0,t.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",type:"text",name:"pincode",handleBlur:function(){null===Q||void 0===Q||Q.pincode},placeholder:"Zip *"},ie("pincode",{required:{value:!Q.pincode,message:"zip is Required"}})),{value:Q.pincode,onChange:function(e){var n=(0,T.get)(e,"target"),s=n.name,t=n.value;U((0,h.Z)((0,m.Z)({},Q),(0,N.Z)({},s,t)))},onKeyDown:function(e){return(0,R.Bm)(e)}}))}),(0,t.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,t.jsx)(k.Qr,{name:"addressType",control:ce,render:function(e){var n=e.field.onChange;return(0,t.jsx)(q.ZP,{value:null===V||void 0===V?void 0:V.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===Q||void 0===Q?void 0:Q.addressType)})),placeholder:"Address Type",name:"blog_tag",options:V,onChange:function(e){he(e,"addressType"),n(e)},className:"custom-select",styles:re})}}),(0,t.jsx)("p",{children:(0,t.jsxs)("small",{style:{color:"red"},children:["required"===(null===(r=oe.addressType)||void 0===r?void 0:r.type)?null===(a=oe.addressType)||void 0===a?void 0:a.message:"","validate"===(null===(o=oe.addressType)||void 0===o?void 0:o.type)?"Address Type is invalid":""]})})]}),(0,t.jsxs)("div",{className:"chek-form custome-checkbox",children:[(0,t.jsx)(B.Z,{children:(0,t.jsx)(B.Z.Check,{className:"form-check-input",id:"defaultAddress",checked:(0,T.get)(Q,"defaultAddress"),onChange:function(e){return U((0,h.Z)((0,m.Z)({},Q),{defaultAddress:(0,T.get)(e,"target.checked",!1)}))}})}),(0,t.jsx)("label",{className:"form-check-label label_info","data-bs-toggle":"collapse","aria-controls":"collapseAddress",children:(0,t.jsx)("span",{children:"Make It Default Address"})})]}),(0,t.jsxs)("div",{className:"btn-wrapper d-flex justify-content-end",style:{width:"100%",gap:"12px"},children:[(0,t.jsx)("button",{type:"button",onClick:function(){C(!1),W(""),U(M)},className:"btn btn-danger checkout-continue-btn",children:"CANCEL"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-success primary-btn-color checkout-continue-btn",children:J?"Update Address":"Add Address"})]})]})]})})]}):(0,t.jsx)("div",{className:"address-list",children:l.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsxs)("button",{className:"add-btn",onClick:me,children:[(0,t.jsx)("span",{children:(0,t.jsx)(A.Z,{})})," ","Add a New Address"]})}),(0,t.jsx)("div",{className:"cust-detail-container",children:null===l||void 0===l?void 0:l.map((function(e,n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"address-card",children:[(0,t.jsxs)("div",{className:"action-btn",children:[(0,t.jsx)(L.Z,{className:"edit-btn",variant:"link",onClick:function(){W(null===e||void 0===e?void 0:e._id),U(e),C(!0)},children:(0,t.jsx)(_.Z,{})}),(0,t.jsx)(L.Z,{className:"edit-btn delete-btn",variant:"link",onClick:function(){return function(e,n){var s={id:p,_id:e};ee(!0),(0,R.QF)(Z.lR,s).then(function(){var e=(0,j.Z)((function(e){var n,s;return(0,y.__generator)(this,(function(t){return ee(!1),n=(0,T.get)(e,"data.deleteAddressBook.success"),s=(0,T.get)(e,"data.deleteAddressBook.message"),n?(ue(),(0,E.Z)(s,!0)):(0,E.Z)(s,n),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){ee(!1),(0,R.S3)(e,se,te)}))}(null===e||void 0===e?void 0:e._id)},children:(0,t.jsx)(S.Z,{})})]}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsxs)("b",{children:[(0,T.get)(e,"addressType")&&"Home"!==(0,T.get)(e,"addressType")?"Office"===(0,T.get)(e,"addressType")?(0,t.jsx)(w.Z,{}):"":(0,t.jsx)(b.Z,{}),(0,T.get)(e,"addressType")||"Home"]}),(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsxs)("p",{children:[(0,T.get)(e,"firstName")," ",(0,T.get)(e,"lastName")]}),(0,t.jsx)("p",{children:(0,T.get)(e,"phone")})]}),(0,t.jsx)("p",{children:(0,T.get)(e,"addressLine1")}),(0,t.jsx)("p",{children:(0,T.get)(e,"addressLine2")})]})]},n)})}))})]}):(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"100px"},children:(0,t.jsxs)("button",{className:"add-btn",onClick:me,children:[(0,t.jsx)("span",{children:(0,t.jsx)(A.Z,{})})," ","Add a New Address"]})})})]})},U=s(96775),Y=s(14802),J=s(81427),W=function(e){var n=e.setShowChangePassword,s=(0,k.cI)({mode:"onSubmit"}),r=s.register,a=s.handleSubmit,o=s.formState.errors,c=(0,i.useState)(!1),l=c[0],u=c[1],f=(0,i.useState)({currentPassword:"",newPassword:""}),p=f[0],g=f[1],v=(0,d.useSession)(),x=function(e){var n=e.target,s=n.name,t=n.value;g((function(e){return(0,h.Z)((0,m.Z)({},e),(0,N.Z)({},s,t))}))},b=function(){var e=(0,j.Z)((function(){var e,s,t,r,a;return(0,y.__generator)(this,(function(i){switch(i.label){case 0:u(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,R.QF)(Z.bk,{email:(0,T.get)(v,"data.user.accessToken.customer.email"),oldPassword:(0,T.get)(p,"currentPassword",""),newPassword:(0,T.get)(p,"newPassword","")})];case 2:return(e=i.sent())&&(u(!1),s=(0,T.get)(e,"data.resetPassword",{}),t=s.success,r=s.message,t&&((0,E.Z)(r,t),n(!1)),t||(0,E.Z)(r,t)),[3,4];case 3:return a=i.sent(),u(!1),console.error("Error:",a),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[l&&(0,t.jsx)(H.Z,{}),(0,t.jsxs)("form",{onSubmit:a(b),children:[(0,t.jsx)(J.Z,{type:"password",className:"form-control login-top-space",id:"currentPassword",placeholder:"Current Password",value:(0,T.get)(p,"currentPassword",""),name:"currentPassword",registerRef:r("currentPassword",{required:{value:!(0,T.get)(p,"currentPassword"),message:"Current ".concat(U.oJ)}}),errors:o,onChange:function(e){return x(e)}}),(0,t.jsx)(J.Z,{type:"password",className:"form-control login-top-space",id:"newPassword",placeholder:"newPassword",value:(0,T.get)(p,"newPassword",""),name:"newPassword",registerRef:r("newPassword",{required:{value:!(0,T.get)(p,"newPassword"),message:"New ".concat(U.oJ)},validate:function(){return(0,Y.aO)((0,T.get)(p,"newPassword",""))}}),errors:o,onChange:function(e){return x(e)}}),(0,t.jsxs)("div",{className:"btn-wrapper d-flex justify-content-end",style:{width:"100%",gap:"12px"},children:[(0,t.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:"btn btn-danger checkout-continue-btn",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-success primary-btn-color checkout-continue-btn",children:"Change password"})]})]})]})},X={firstName:"",lastName:"",email:"",phone:""};var G=function(){var e,n,s,r=(0,i.useState)(X),a=r[0],o=r[1],c=(0,i.useState)(!1),l=c[0],u=c[1],f=(0,i.useState)(!1),p=f[0],g=f[1],v=(0,k.cI)({mode:"onSubmit"}),x=v.register,b=v.handleSubmit,w=v.formState.errors,S=v.control,C=(0,z.useRouter)(),q=(0,I.I0)(),_=(0,d.useSession)(),A=function(e,n){if("addressType"===n)o((0,h.Z)((0,m.Z)({},a),(0,N.Z)({},n,null===e||void 0===e?void 0:e.value)));else{var s=(0,T.get)(e,"target"),t=s.name,r=s.value;o((0,h.Z)((0,m.Z)({},a),(0,N.Z)({},t,r)))}},L=function(){if("authenticated"===_.status){var e={id:(0,T.get)(_,"data.user.accessToken.customer._id")};(0,R.IO)(Z.Vj,e).then((function(e){var n=(0,T.get)(e,"data.customer.data");o((0,m.Z)({},n))}))}};return(0,i.useEffect)((function(){L()}),[_]),(0,t.jsxs)(t.Fragment,{children:[p&&(0,t.jsx)("div",{className:"loading-wrapper",children:(0,t.jsx)(O.Z,{})}),(0,t.jsxs)("div",{className:"edit-address-container",children:[(0,t.jsx)(K.x7,{}),(0,t.jsx)("div",{className:"billing-container cart-main-container",children:l?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"order-details-head",children:[(0,t.jsx)("button",{className:"back-btn",onClick:function(){return u(!1)},children:(0,t.jsx)($.Z,{})}),(0,t.jsx)("h4",{children:"Change Password"})]}),(0,t.jsx)(W,{setShowChangePassword:u})]}):(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:b((function(e){g(!0);var n=a||{},s=n.firstName,t=n.lastName,r=n.phone,i=n.email,d={id:(0,T.get)(_,"data.user.accessToken.customer._id",""),firstName:s,lastName:t,email:i,phone:r};"authenticated"===(0,T.get)(_,"status","")&&(0,R.QF)(Z.Wn,d).then(function(){var e=(0,j.Z)((function(e){var n,s,t;return(0,y.__generator)(this,(function(r){return g(!1),n=(0,T.get)(e,"data.updateCustomer"),s=n.success,t=n.message,s&&((0,E.Z)(t,!0),L()),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){g(!1),(0,R.S3)(e,q,C)}))})),children:[(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",name:"firstName",label:"firstName",placeholder:"First Name *"},x("firstName",{required:{value:!(0,T.get)(a,"firstName"),message:"First Name is Required"},minLength:{value:4,message:"First Name Min length is 4"}})),{errors:w,value:(0,T.get)(a,"firstName",""),onChange:A,onKeyDown:function(e){return(0,R.Bm)(e)}})),(0,t.jsx)(D.Z,(0,h.Z)((0,m.Z)({className:"input-filled",name:"lastName",label:"lastName",placeholder:"Last Name *"},x("lastName",{required:{value:!(0,T.get)(a,"lastName"),message:"Last Name is Required"},minLength:{value:4,message:"Last Name Min length is 4"}})),{errors:w,value:(0,T.get)(a,"lastName"),onChange:A,onKeyDown:function(e){return(0,R.Bm)(e)}})),(0,t.jsx)(D.Z,{className:"input-filled",type:"text",required:"",name:"email",label:"Email",placeholder:"email *",register:x("email",{required:{value:!(0,T.get)(a,"email"),message:U.KR},validate:function(){return(0,Y.oH)((0,T.get)(a,"email"))}}),errors:w,value:a.email,onChange:A,onKeyDown:function(e){return(0,R.Bm)(e)}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Qr,{name:"phone",control:S,rules:{required:{value:!(0,T.get)(a,"phone"),message:"Phone number is Required"},validate:function(){var e,n=null===(e=(0,T.get)(a,"phone",""))||void 0===e?void 0:e.replace(/\D/g,""),s="+".concat(n);return(0,F.yf)(s)}},render:function(){return(0,t.jsx)(P(),{enableSearch:"true",country:"us",inputClass:"custom-input",placeholder:"Enter phone number",value:(null===a||void 0===a?void 0:a.phone)||"",onChange:function(e){return function(e,n){o((0,h.Z)((0,m.Z)({},a),(0,N.Z)({},e,n)))}("phone",e)}})}}),(0,t.jsx)("p",{children:(0,t.jsxs)("small",{style:{color:"red"},children:["required"===(null===w||void 0===w||null===(e=w.phone)||void 0===e?void 0:e.type)?null===(n=w.phone)||void 0===n?void 0:n.message:"","validate"===(null===w||void 0===w||null===(s=w.phone)||void 0===s?void 0:s.type)?"Phone number is invalid":""]})})]}),(0,t.jsxs)("div",{className:"btn-wrapper d-flex justify-content-end",style:{gap:"12px"},children:[(0,t.jsx)("button",{className:"card-btons text-align-center outline",onClick:function(){return u(!0)},children:(0,t.jsx)("span",{className:"text-align-center",children:"Change Password"})}),(0,t.jsx)("button",{className:"card-btons text-align-center primary-btn-color",type:"submit",children:(0,t.jsx)("span",{className:"text-align-center",children:"Save Changes"})})]})]})})})]})]})},ee=[{name:"My Orders",active:!0,icon:(0,t.jsx)(c.Z,{}),component:(0,t.jsx)(x.default,{})},{name:"My Addresses",active:!1,icon:(0,t.jsx)(o.Z,{}),component:(0,t.jsx)(Q,{})},{name:"Edit Profile",active:!1,icon:(0,t.jsx)(l.Z,{}),component:(0,t.jsx)(G,{})}],ne=function(){var e=(0,i.useState)(ee),n=e[0],s=e[1],r="authenticated"===(0,d.useSession)().status;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(u.Z,{children:r?(0,t.jsxs)("div",{className:"account-page",children:[(0,t.jsx)("div",{className:"account-page-head",children:(0,t.jsx)("h2",{children:"My Account"})}),(0,t.jsxs)("div",{className:"account-main",children:[(0,t.jsx)(v,{items:[n,s]}),n.map((function(e){return(0,t.jsx)(t.Fragment,{children:!0===e.active&&(0,t.jsx)("div",{className:"account-content",children:e.component})})}))]})]}):(0,t.jsxs)("div",{className:"checkout-unauthorised-container",children:[(0,t.jsx)("h3",{children:"Please Login First"}),(0,t.jsx)(a(),{href:"/login",children:(0,t.jsx)("button",{type:"button",className:"btn btn-success primary-btn-color checkout-login-btn",children:"login"})})]})})})}},66866:function(e,n,s){"use strict";s.d(n,{Km:function(){return g},Ve:function(){return f},Vj:function(){return p},Wn:function(){return v},ZB:function(){return x},bk:function(){return N},lR:function(){return j}});var t=s(7297),r=s(19989);function a(){var e=(0,t.Z)(["\n  mutation (\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n    $password: String\n  ) {\n    addCustomer(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n      password: $password\n    ) {\n      message\n      success\n      __typename\n    }\n  }\n"]);return a=function(){return e},e}function i(){var e=(0,t.Z)(["\n  query {\n    customers {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n      message {\n        message\n        success\n      }\n    }\n  }\n"]);return i=function(){return e},e}function d(){var e=(0,t.Z)(["\n  query ($id: ID!) {\n    customer(id: $id) {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n    }\n  }\n"]);return d=function(){return e},e}function o(){var e=(0,t.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    addAddressBook(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n      data\n    }\n  }\n"]);return o=function(){return e},e}function c(){var e=(0,t.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n  ) {\n    updateCustomer(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n    ) {\n      message\n      success\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=(0,t.Z)(["\n  mutation (\n    $id: ID!\n    $_id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    updateAddressBook(\n      id: $id\n      _id: $_id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,t.Z)(["\n  mutation ($id: ID!, $_id: ID!) {\n    deleteAddressBook(id: $id, _id: $_id) {\n      message\n      success\n    }\n  }\n"]);return u=function(){return e},e}function m(){var e=(0,t.Z)(["\n  mutation ($email: String, $oldPassword: String, $newPassword: String) {\n    resetPassword(\n      email: $email\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      message\n      success\n    }\n  }\n"]);return m=function(){return e},e}function h(){var e=(0,t.Z)(["\n  query ($id: ID!) {\n    cartbyUser(userId: $id) {\n      date\n      id\n      products\n      status\n      total\n      updated\n      userId\n    }\n  }\n"]);return h=function(){return e},e}var f=(0,r.ZP)(a()),p=((0,r.ZP)(i()),(0,r.ZP)(d())),g=(0,r.ZP)(o()),v=(0,r.ZP)(c()),x=(0,r.ZP)(l()),j=(0,r.ZP)(u()),N=(0,r.ZP)(m());(0,r.ZP)(h())},14802:function(e,n,s){"use strict";s.d(n,{YC:function(){return c},aO:function(){return i},oH:function(){return o},q$:function(){return d}});var t=s(35157),r=/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/,a=/^[\w-+]+(\.[\w-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/,i=function(e){return r.test(e)||"Passwords must have at least 8 characters and contain at least one letter and one number"},d=function(e){var n=(null===e||void 0===e?void 0:e.replace(/\D/g,""))||"",s="+".concat(n);return(0,t.yf)(s)||"Please enter a valid phone number"},o=function(e){return a.test(e)||"Please enter a valid email"},c=function(e,n){return e===n||"Passwords do not match"}}},function(e){e.O(0,[5445,8674,4938,8662,6e3,7627,7555,3156,1912,7446,5774,9774,2888,179],(function(){return n=84865,e(e.s=n);var n}));var n=e.O();_N_E=n}]);