(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2771],{33469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/profile",function(){return t(7023)}])},38215:function(e,n,t){"use strict";var a=t(85893),s=t(45697),r=function(e){var n=e.title;return(0,a.jsx)("div",{className:"page-title",children:(0,a.jsx)("h3",{className:"title-page",children:n})})};r.propTypes={title:t.n(s)().string.isRequired},n.Z=r},30508:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var a=t(85893),s=t(36968),r=(t(67294),t(17876)),i=t(96486),l=t(50390),d=t(25617),o=function(e){var n=e.rows,t=e.columns,s=e.colSpan,o=e.additionalRows,c=e.className,u=(0,d.v9)((function(e){return e.setting}));return(0,a.jsxs)("table",{className:c||"product-detail",children:[(0,a.jsx)("thead",{children:null===t||void 0===t?void 0:t.map((function(e){return(0,a.jsx)("th",{children:(0,i.get)(e,"title","")})}))}),(0,a.jsx)("tbody",{children:n&&(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n?void 0:n.map((function(e,n){return(0,a.jsx)("tr",{children:null===t||void 0===t?void 0:t.map((function(n){switch(null===n||void 0===n?void 0:n.type){case"price":return(0,a.jsx)("td",{className:"".concat(null===n||void 0===n?void 0:n.className),children:(0,a.jsx)(l.Z,{price:(0,i.get)(e,"".concat([null===n||void 0===n?void 0:n.name]),0)})});case"attributes":var t;return(0,a.jsx)("th",{children:null===(t=(0,i.get)(e,"attributes",[]))||void 0===t?void 0:t.map((function(e,n){return(0,a.jsxs)("div",{children:[(0,i.get)(e,"name","")," :"," ",(0,i.get)(e,"value","")]},"attributes-".concat(n))}))});default:return(0,a.jsx)("td",{children:(0,i.get)(e,"".concat([null===n||void 0===n?void 0:n.name]),"")})}}))},n)})))}),o&&(null===o||void 0===o?void 0:o.length)?null===o||void 0===o?void 0:o.map((function(e,n){if(e)switch((0,i.get)(e,"type")){case"price":return(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{colSpan:s||3,className:"order-text-align ".concat(null===e||void 0===e?void 0:e.className),children:(0,i.get)(e,"label","")}),(0,a.jsx)("td",{className:"".concat(null===e||void 0===e?void 0:e.className),children:(0,a.jsx)(l.Z,{price:(0,i.get)(e,"value",0)})})]},"additionalRow-".concat(n));case"date":return(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{colSpan:s||3,className:"order-text-align",children:(0,i.get)(e,"label","")}),(0,a.jsx)("td",{children:(0,r.Ul)((0,i.get)(e,"value",null),u)})]},"additionalRow-".concat(n));default:return(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{colSpan:s||3,className:"order-text-align",children:(0,i.get)(e,"label","")}),(0,a.jsx)("td",{children:(0,i.get)(e,"value","")})]},"additionalRow-".concat(n))}})):(0,a.jsx)("td",{colSpan:null===t||void 0===t?void 0:t.length,children:"No data found"})]})},c=t(45697),u=t.n(c),m=function(e){var n=e.title,t=e.address;return(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h4",{children:n}),(0,a.jsxs)("p",{children:[(0,i.get)(t,"firstname","")," ",(0,i.get)(t,"lastname","")," ",(0,a.jsx)("br",{}),(0,i.get)(t,"email","")," ",(0,a.jsx)("br",{}),(0,i.get)(t,"phone","")," ",(0,a.jsx)("br",{}),(0,i.get)(t,"address","")," ",(0,a.jsx)("br",{}),(0,i.get)(t,"city","")," ",(0,i.get)(t,"state","")," ",(0,i.get)(t,"country","")]})]})};m.propTypes={title:u().string.isRequired,address:u().object.isRequired};var p=m,v=t(80487),h=function(e){var n,t=e.orderInfo,l=function(e){var n;return[{title:"Products",name:"productTitle"},{title:"Qty",name:"qty",type:"text"},(null===(n=(0,i.get)(e,"products",[]))||void 0===n?void 0:n.some((function(e){var n;return(null===e||void 0===e||null===(n=e.attributes)||void 0===n?void 0:n.length)>0})))?{title:"Attributes",name:"attributes",type:"attributes"}:null,{title:"Total",name:"productPrice",type:"price"}]}(t),d=function(e){var n=(0,i.get)(e,"couponCard",""),t=(0,i.get)(e,"totalSummary",{}),a=(0,i.get)(n,"couponApplied")&&(0,r.dZ)(n),s=(0,i.get)(n,"appliedCouponDiscount"),l=(0,i.get)(n,"appliedCouponCode");return[{label:"Order Number",value:(0,i.get)(e,"orderNumber",""),type:"text"},{label:"Date",value:(0,i.get)(e,"date",""),type:"date"},{label:"SubTotal",value:(0,i.get)(t,"cartTotal",0),type:"price"},{label:"Grandtotal",value:(0,i.get)(t,"grandTotal",0),type:"price"},a?{label:"Coupon - ".concat(l),value:s,type:"price",className:"textSuccess"}:null,{label:"Payment Method",value:(0,r.Os)((0,i.get)(e,"billing.paymentMethod",v.fD)),type:"text"}]}(t),c=function(e){var n=(0,i.get)(e,"couponCard",""),t=(0,i.get)(e,"totalSummary",{}),a=0===(0,i.get)(e,"totalSummary.totalShipping"),s=0===(0,i.get)(e,"totalSummary.totalTax"),l=(0,i.get)(n,"couponApplied")&&(0,r.dZ)(n),d=(0,i.get)(n,"appliedCouponDiscount"),o=(0,i.get)(n,"appliedCouponCode");return[{label:"Subtotal",value:(0,i.get)(t,"cartTotal",0),type:"price"},!s&&{label:"Tax",value:(0,i.get)(t,"totalTax ",0),type:"price"},{label:"Shipping",value:a?"Free Shipping":(0,i.get)(t,"totalShipping",0),type:a?"text":"price"},l?{label:"Coupon - ".concat(o),value:d,type:"price",className:"textSuccess"}:null,{label:"Grandtotal",value:(0,i.get)(t,"grandTotal",0),type:"price"}]}(t);return(0,a.jsx)(a.Fragment,{children:t&&(null===(n=Object.keys(t))||void 0===n?void 0:n.length)>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"order-details",children:[(0,a.jsxs)("div",{className:"row order-row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("h4",{children:"Order Info"}),(0,a.jsx)(o,{colSpan:1,additionalRows:d})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)(p,{title:"Billing Address",address:(0,i.get)(t,"billing",{})}),(0,a.jsx)("hr",{}),(0,a.jsx)(p,{title:"Shipping Address",address:(0,i.get)(t,"shipping",{})})]})}),(0,a.jsx)("hr",{})]}),(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("h4",{children:"Order Details"}),(0,a.jsx)(o,{columns:l,colSpan:3,rows:(0,i.get)(t,"products"),additionalRows:c})]})}),(0,a.jsx)("h3",{className:"mt-5",children:"Thank You for Shopping"})]})}):(0,a.jsx)("div",{className:"loading-container",children:(0,a.jsx)(s.Z,{animation:"border",variant:"success"})})})}},86428:function(e,n,t){"use strict";var a=t(85893),s=t(41664),r=t.n(s),i=t(10682);n.Z=function(e){var n=e.title,t=n.split("/"),s=t.map((function(e,n){return(0,a.jsx)("li",{className:"breadcrumb-item ".concat(n===t.length-1?"active":"page-active"),children:(s=e,s[0].toUpperCase()+s.slice(1))});var s}));return(0,a.jsx)("nav",{className:"breadcrumb-nav","aria-label":"breadcrumb",style:{},children:(0,a.jsx)(i.Z,{children:(0,a.jsxs)("ol",{className:"breadcrumb",children:[(0,a.jsx)("li",{className:"breadcrumb-item page-active",children:(0,a.jsx)(r(),{href:"/",className:"breadcrumb-link",children:"Home"})}),s]})})})}},53294:function(e,n,t){"use strict";var a=t(85893);t(67294);n.Z=function(e){var n=e.message;return(0,a.jsx)("p",{children:(0,a.jsx)("small",{className:"error-message",children:n})})}},72760:function(e,n,t){"use strict";var a=t(26042),s=t(69396),r=t(85893),i=t(96486),l=t(53294),d=t(45697),o=t.n(d),c=function(e){var n=e.type,t=e.className,d=e.errors,o=e.id,c=e.placeholder,u=e.value,m=e.name,p=e.registerRef,v=e.onChange,h=e.handleBlur,g=e.disabled,f=e.style;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",(0,s.Z)((0,a.Z)({type:n,className:t,id:o,placeholder:c,onBlur:h,value:u,name:m,style:f},p),{onChange:function(e){return v(e,n)},disabled:g||!1})),d&&(0,r.jsx)("div",{className:"error-message",children:(0,r.jsx)(l.Z,{message:(0,i.get)(d,"".concat(m,".message"),"")})})]})};c.propTypes={type:o().string.isRequired,className:o().string,errors:o().object.isRequired,id:o().string.isRequired,placeholder:o().string.isRequired,value:o().oneOfType([o().string,o().number]),name:o().string.isRequired,registerRef:o().object,onChange:o().func.isRequired,handleBlur:o().func,disabled:o().bool,style:o().object},n.Z=c},81427:function(e,n,t){"use strict";var a=t(85893),s=t(67294),r=t(53294),i=t(96486),l=t(45697),d=t.n(l),o=function(e){var n=e.errors,t=e.placeholder,l=e.registerRef,d=e.name,o=e.onChange,c=e.value,u=e.className,m=e.id,p=e.type,v=(0,s.useState)(!1),h=v[0],g=v[1],f=function(){g(!h)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"password-container",children:[(0,a.jsx)("input",{type:h?"text":"password",className:u,id:m,placeholder:t,value:c,name:d,onChange:function(e){return o(e,p)},ref:l}),h?(0,a.jsx)("i",{className:"fas fa-eye password-icon ",onClick:f}):(0,a.jsx)("i",{className:"fas fa-eye-slash password-icon",onClick:f})]}),(0,a.jsx)(r.Z,{message:(0,i.get)(n,"".concat(d,".message"),"")})]})};o.propTypes={errors:d().object.isRequired,placeholder:d().string.isRequired,registerRef:d().object,name:d().string.isRequired,onChange:d().func.isRequired,value:d().string.isRequired,className:d().string,id:d().string.isRequired,type:d().string.isRequired},n.Z=o},39620:function(e,n,t){"use strict";var a=t(85893),s=(t(67294),t(87536)),r=t(67555),i=t.n(r),l=t(96486),d=t(53294),o=(t(79745),t(96775)),c=t(14802),u=t(45697),m=t.n(u),p=function(e){var n=e.name,t=e.control,r=e.enableSearch,u=e.value,m=e.handleChange,p=e.errors,v=e.className,h=e.placeholder,g=e.country,f=e.inputClass,x=e.type;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Qr,{name:n,control:t,rules:{required:{value:!u,message:o.w2},validate:function(){var e=u;return(0,c.q$)(e)}},render:function(){return(0,a.jsx)(i(),{enableSearch:r,country:g||"us",inputClass:f,placeholder:h,value:u,onChange:function(e){return m(e,x)},className:v})}}),(0,a.jsx)(d.Z,{message:(0,l.get)(p,"".concat(n,".message"),"")})]})};p.propTypes={name:m().string.isRequired,control:m().object.isRequired,enableSearch:m().bool.isRequired,value:m().string.isRequired,handleChange:m().func.isRequired,errors:m().object.isRequired,className:m().string,placeholder:m().string.isRequired,country:m().string.isRequired,inputClass:m().string,type:m().string.isRequired},n.Z=p},7023:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return G},default:function(){return X}});var a=t(29815),s=t(85893),r=t(67294),i=t(5607),l=t(31555),d=t(10682),o=t(40539),c=t(73192),u=t(20231),m=t(18695),p=t(35005),v=t(47568),h=t(26042),g=t(69396),f=t(70655),x=t(34051),j=t(66866),y=t(17876),Z=t(87536),N=t(45543),b=t(25617),$=t(45697),S=t.n($),C=t(72760),w=t(96775),q=t(39620),k=t(14802),R=t(81427),T=t(96486),P=t(11163),A={firstName:"",lastName:"",email:"",password:"",company:"",phone:""},_=function(e){var n=e.accountDetailInfo,t=e.setToggleEdit,a=e.getcustomer,i=(0,b.I0)(),d=(0,P.useRouter)(),o=(0,r.useState)(A),c=o[0],u=o[1],m=(0,Z.cI)(),$=m.register,S=m.formState.errors,_=m.handleSubmit,D=m.control;(0,r.useEffect)((function(){u(n)}),[n]);var E=c.firstName,L=c.lastName,I=c.email,B=c.phone,z=c.company,F=c.password,O=c.confirmPassword,K=c.currentpassword;return(0,s.jsx)("div",{children:(0,s.jsxs)("form",{className:"edit-form",onSubmit:_((function(){(0,y.QF)(j.Wn,c).then(function(){var e=(0,v.Z)((function(e){var n,t,s;return(0,f.__generator)(this,(function(r){return n=(0,T.get)(e,"data.updateCustomer"),t=n.success,s=n.message,t&&((0,N.Z)(s,!0),a()),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){(0,y.S3)(e,i,d)}))})),children:[(0,s.jsxs)(x.Z,{children:[(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"First Name "}),(0,s.jsx)(C.Z,{type:"text",className:"update-profile-detail-input",placeholder:"First name *",value:E,name:"firstname",registerRef:$("firstname",{required:{value:!E,message:w.HD}}),onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{firstName:e.target.value}))},errors:S})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Last Name "}),(0,s.jsx)(C.Z,{type:"text",name:"lastname",placeholder:"Last name *",value:L,registerRef:$("lastname",{required:{value:!L,message:w.Z1}}),onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{lastName:e.target.value}))},className:"update-profile-detail-input",errors:S})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Company"}),(0,s.jsx)(C.Z,{type:"text",name:"company",label:"company",placeholder:"Company*",value:z,onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{company:e.target.value}))},className:"update-profile-detail-input"})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Phone"}),(0,s.jsx)(q.Z,{type:"phone",enableSearch:"true",control:D,country:"in",name:"phone",inputClass:"custom-input",placeholder:"Enter phone number",value:B,handleChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{phone:e.target.value}))},className:"update-profile-detail-input",errors:S})]})]}),(0,s.jsxs)(x.Z,{style:{marginTop:"25px"},children:[(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Email "}),(0,s.jsx)(C.Z,{type:"email",className:"update-profile-detail-input",name:"email",placeholder:"Email *",value:I,registerRef:$("email",{required:{value:!I,message:w.KR},validate:function(){return(0,k.oH)(I)}}),onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{email:e.target.value}))},errors:S,disabled:!0})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Password "}),(0,s.jsx)(R.Z,{type:"password",className:"update-profile-detail-input",name:"password",placeholder:"Password *",value:F,registerRef:$("password",{required:{value:!F,message:w.oJ},validate:function(){return(0,k.aO)(F)}}),onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{password:e.target.value}))}})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Confirm Password "}),(0,s.jsx)(R.Z,{type:"password",className:"update-profile-detail-input",name:"confirmPassword",placeholder:"Confirm Password *",value:O,registerRef:$("confirmPassword",{required:{value:!O,message:w.oJ},validate:function(){return(0,k.YC)(F,O)}}),errors:S,onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{confirmPassword:e.target.value}))}})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("label",{className:"textlabel",children:"Current Password "}),(0,s.jsx)(R.Z,{type:"password",name:"currentpassword",label:"currentpassword",placeholder:"Current Password *",value:(null===c||void 0===c?void 0:c.currentpassword)||"",registerRef:$("password",{required:{value:!K,message:w.oJ},validate:function(){return(0,k.aO)(K)}}),onChange:function(e){return u((0,g.Z)((0,h.Z)({},c),{currentpassword:e.target.value}))},errors:S,className:"update-profile-detail-input"})]})]}),(0,s.jsxs)("div",{className:"account-details-button my-4",children:[(0,s.jsx)(p.Z,{type:"submit",variant:"outline-success",size:"sm",children:"UPDATE DETAILS"})," ",(0,s.jsx)(p.Z,{className:"ms-1",onClick:function(){return t((function(e){return!e}))},variant:"danger",size:"sm",children:"Cancel"})]})]})})};_.propTypes={accountDetailInfo:S().object.isRequired,setToggleEdit:S().func.isRequired,getcustomer:S().func.isRequired};var D=_,E=t(16518),L=t(97346),I=t(41068),B=t(28705),z=t(43489),F=t(15572),O=function(e){var n=e.starId,t=e.marked;return(0,s.jsx)("span",{"star-id":n,role:"button",style:{color:"#ff9933",cursor:"pointer",fontSize:25,m:0},children:t?"\u2605":"\u2606"})},K={id:"",_id:"",firstName:"",lastName:"",company:"",phone:"",addressLine1:"",addressLine2:"",state:"",city:"",defaultAddress:!1},U=function(e){var n,t,i,d,o,c,m,$,S,C,w,q,k,R,A,_,D,U,Q,H=e.addressDetail,Y=(e.token,e.refreshData),V=e.getcustomer,J=(null===(n=(0,F.F)())||void 0===n?void 0:n.theme).theme,M=(0,P.useRouter)(),W=(0,r.useState)(!1),G=W[0],X=W[1],ee=(0,r.useState)(!1),ne=ee[0],te=ee[1],ae=(0,r.useState)(K),se=ae[0],re=ae[1],ie=(0,r.useState)([]),le=ie[0],de=ie[1],oe=(0,b.I0)();(0,r.useEffect)((function(){(null===H||void 0===H?void 0:H.id)&&(K.id=null===H||void 0===H?void 0:H.id,re((0,g.Z)((0,h.Z)({},se),{id:null===H||void 0===H?void 0:H.id})))}),[]),(0,r.useEffect)((function(){(null===H||void 0===H?void 0:H.id)&&(K.id=null===H||void 0===H?void 0:H.id,re((0,g.Z)((0,h.Z)({},se),{id:null===H||void 0===H?void 0:H.id})))}),[G,ne]),(0,r.useEffect)((function(){var e;(null===H||void 0===H?void 0:H.addressBook)&&(null===H||void 0===H||null===(e=H.addressBook)||void 0===e?void 0:e.length)>0?de(null===H||void 0===H?void 0:H.addressBook):de(le)}),[H]);var ce=function(){var e=(0,v.Z)((function(e){var n,t,a,s,r,i,l,d;return(0,f.__generator)(this,(function(e){return n=se.firstName,t=se.lastName,a=se.addressLine1,s=se.city,r=se.company,i=se.country,l=se.state,d=se.phone,n&&t&&a&&s&&r&&i&&l&&d&&(0,y.QF)(j.ZB,se).then(function(){var e=(0,v.Z)((function(e){var n,t;return(0,f.__generator)(this,(function(a){return n=(0,T.get)(e,"data.updateAddressBook.success"),t=(0,T.get)(e,"data.updateAddressBook.message"),n&&(V(),te(!1),re(K),(0,N.Z)(t,!0)),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){(0,y.S3)(e,oe,M)})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),ue=function(){var e=(0,v.Z)((function(){var e,n,t,a,s,r,i,l;return(0,f.__generator)(this,(function(d){return e=se.firstName,n=se.lastName,t=se.addressLine1,a=se.city,s=se.company,r=se.country,i=se.state,l=se.phone,e&&n&&t&&a&&s&&r&&i&&l&&(0,y.QF)(j.Km,se).then(function(){var e=(0,v.Z)((function(e){var n,t;return(0,f.__generator)(this,(function(a){return n=(0,T.get)(e,"data.addAddressBook.success"),t=(0,T.get)(e,"data.addAddressBook.message"),n&&(X(!1),te(!1),V(),re(K),(0,N.Z)(t,!0)),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){(0,y.S3)(e,oe,M)})),[2]}))}));return function(){return e.apply(this,arguments)}}(),me=(0,Z.cI)({mode:ne?ce:ue}),pe=me.register,ve=me.handleSubmit,he=me.reset,ge=(me.clearErrors,me.formState.errors);me.control;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("form",{onSubmit:ve(ne?ce:ue),children:(0,s.jsx)(E.Z,{in:!(!ne&&!G),children:(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)(u.Z.Body,{children:[(0,s.jsx)(u.Z.Title,{children:"".concat(ne?"Edit":"Add"," Adress")}),(0,s.jsx)("hr",{}),(0,s.jsxs)(x.Z,{children:[(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"firstname",label:"firstname",placeholder:"First name *",value:(null===se||void 0===se?void 0:se.firstName)||"",className:"update-account-details-input"},pe("firstname",{required:{value:!(null===se||void 0===se?void 0:se.firstName),message:"First name is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{firstName:e.target.value}))}})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(t=ge.firstname)||void 0===t?void 0:t.type)?null===ge||void 0===ge||null===(i=ge.firstname)||void 0===i?void 0:i.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"lastname",label:"lastname",placeholder:"Last name *",value:null===se||void 0===se?void 0:se.lastName,className:"update-account-details-input"},pe("lastname",{required:{value:!(null===se||void 0===se?void 0:se.lastName),message:"Last name is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{lastName:e.target.value}))}})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===ge||void 0===ge||null===(d=ge.lastname)||void 0===d?void 0:d.type)?null===ge||void 0===ge||null===(o=ge.lastname)||void 0===o?void 0:o.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"company",label:"company",placeholder:"Company*",value:null===se||void 0===se?void 0:se.company,className:"update-account-details-input"},pe("company",{required:{value:!(null===se||void 0===se?void 0:se.company),message:"company is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{company:e.target.value}))}})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(c=ge.company)||void 0===c?void 0:c.type)?null===ge||void 0===ge||null===(m=ge.company)||void 0===m?void 0:m.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"phone",label:"phone",placeholder:"Phone *",value:null===se||void 0===se?void 0:se.phone},pe("phone",{required:{value:!se.phone,message:"phone number is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{phone:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===($=ge.phone)||void 0===$?void 0:$.type)?null===ge||void 0===ge||null===(S=ge.phone)||void 0===S?void 0:S.message:void 0})})]})]}),(0,s.jsx)(x.Z,{children:(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"address",label:"address",placeholder:"Address *",value:null===se||void 0===se?void 0:se.addressLine1},pe("addressLine1",{required:{value:!(null===se||void 0===se?void 0:se.addressLine1),message:"Address is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{addressLine1:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(C=ge.addressLine1)||void 0===C?void 0:C.type)?null===(w=ge.addressLine1)||void 0===w?void 0:w.message:void 0})})]})}),(0,s.jsx)(x.Z,{children:(0,s.jsx)(l.Z,{className:"input-grid",children:(0,s.jsx)("input",{type:"text",name:"address",label:"address",placeholder:"Address *",value:null===se||void 0===se?void 0:se.addressLine2,onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{addressLine2:e.target.value}))},className:"update-account-details-input"})})}),(0,s.jsxs)(x.Z,{children:[(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"city",label:"city",placeholder:"City *",value:null===se||void 0===se?void 0:se.city},pe("city",{required:{value:!(null===se||void 0===se?void 0:se.city),message:"City is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{city:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(q=ge.city)||void 0===q?void 0:q.type)?null===(k=ge.city)||void 0===k?void 0:k.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"country",label:"country",placeholder:"Country *",value:null===se||void 0===se?void 0:se.country},pe("country",{required:{value:!(null===se||void 0===se?void 0:se.country),message:"Country is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{country:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(R=ge.country)||void 0===R?void 0:R.type)?null===(A=ge.country)||void 0===A?void 0:A.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"state",label:"state",placeholder:"State *",value:null===se||void 0===se?void 0:se.state},pe("state",{required:{value:!se.state,message:"State is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{state:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(_=ge.state)||void 0===_?void 0:_.type)?null===(D=ge.state)||void 0===D?void 0:D.message:void 0})})]}),(0,s.jsxs)(l.Z,{className:"input-grid",children:[(0,s.jsx)("input",(0,g.Z)((0,h.Z)({type:"text",name:"pincode",label:"pincode",placeholder:"PinCode *",value:(null===se||void 0===se?void 0:se.pincode)||""},pe("pincode",{required:{value:!(null===se||void 0===se?void 0:se.pincode),message:"Pincode is required"}})),{onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{pincode:e.target.value}))},className:"update-account-details-input"})),(0,s.jsx)("p",{children:(0,s.jsx)("small",{style:{color:"red"},children:"required"===(null===(U=ge.pincode)||void 0===U?void 0:U.type)?null===(Q=ge.pincode)||void 0===Q?void 0:Q.message:void 0})})]})]}),(0,s.jsx)(x.Z,{children:(0,s.jsx)(L.Z.Check,{type:"checkbox",name:"checkedB",value:null===se||void 0===se?void 0:se.defaultAddress,onChange:function(e){return re((0,g.Z)((0,h.Z)({},se),{defaultAddress:e.target.checked}))},label:"Make it Default Address"})})]}),(0,s.jsxs)(u.Z.Link,{children:[(0,s.jsx)(p.Z,{type:"submit",size:"small",color:"primary",variant:"contained",children:ne?"Update":"Add"}),(0,s.jsx)(p.Z,{size:"small",onClick:function(){te(!1),X(!1),re(K),he()},variant:"contained",children:"Cancel"})]})]})})}),(0,s.jsx)(I.Z,{in:!G,className:ne?"margin-top-2":"",children:(0,s.jsx)(p.Z,{size:"small",color:(0,T.get)(J,"palette.primary.main"),onClick:function(){re(K),X(!0),te(!1),he()},variant:"contained",children:"Add New Address"})}),(0,s.jsx)("div",{className:"address-details-container",children:H&&(null===H||void 0===H?void 0:H.addressBook)&&(null===le||void 0===le?void 0:le.map((function(e,n){return(0,s.jsx)(u.Z,{children:(0,s.jsxs)(u.Z.Body,{children:[(0,s.jsxs)(x.Z,{className:"address-card-row",children:[(0,s.jsxs)(l.Z,{style:{fontWeight:700},children:[(0,s.jsx)("i",{className:"fas fa-user"}),"  ",(0,T.capitalize)(null===e||void 0===e?void 0:e.firstName)]}),(0,s.jsx)(l.Z,{style:{float:"right",marginRight:"-400px"},children:(0,s.jsx)(B.Z,{overlay:(0,s.jsx)(z.Z,{className:"default-address","aria-label":"Default-Address",children:"Default Address"}),children:(0,s.jsx)(O,{marked:e.defaultAddress?1:0})})})]}),(0,s.jsxs)(u.Z.Text,{children:[(0,s.jsxs)("div",{style:{margin:"10px",padding:"10px"},children:[(0,s.jsx)("i",{className:"fas fa-home"}),(0,T.capitalize)(null===e||void 0===e?void 0:e.city)]}),(0,s.jsxs)("div",{style:{margin:"10px",padding:"10px"},children:[(0,s.jsx)("i",{className:"fas fa-phone-alt"}),(0,T.capitalize)(null===e||void 0===e?void 0:e.phone)]}),(0,s.jsxs)("div",{style:{margin:"10px",padding:"10px"},children:[(0,s.jsx)("i",{className:"fas fa-envelope"}),(0,T.capitalize)(null===e||void 0===e?void 0:e.pincode)]}),(0,s.jsxs)("div",{style:{margin:"10px",padding:"10px"},children:[(0,s.jsx)("i",{className:"far fa-building"}),(0,T.capitalize)(null===e||void 0===e?void 0:e.company)]})]}),(0,s.jsx)(p.Z,{className:"me-2",variant:"outline-dark",size:"sm",onClick:function(){return n=e,te(!0),X(!1),re(n),void he();var n},children:"EDIT"}),(0,s.jsx)(p.Z,{variant:"danger",size:"sm",onClick:function(){return function(e,n){H&&(null===H||void 0===H?void 0:H.id)&&(K.id=null===H||void 0===H?void 0:H.id,re((0,g.Z)((0,h.Z)({},se),{id:null===H||void 0===H?void 0:H.id})));var t={id:se.id,_id:e};(0,y.QF)(j.lR,t).then(function(){var e=(0,v.Z)((function(e){var t,s,r;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.deleteAddressBook)||void 0===s?void 0:s.success)?(Y(),[4,M.push("/account/profile")]):[3,2];case 1:i.sent(),(r=(0,a.Z)(le)).splice(n,1),de(r),i.label=2;case 2:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){(0,y.S3)(e,oe,M)}))}(null===e||void 0===e?void 0:e._id,n)},children:"DELETE"})]})},n)})))})]})},Q=(t(67446),t(86428)),H=t(38215),Y=t(33299),V=t(86501),J=t(49058),M=t(30508),W=t(50390),G=!0,X=function(e){var n=e.customeraddres,t=(0,Y.useSession)(),v=(0,P.useRouter)(),h=(0,Y.getSession)(),g=(0,r.useState)(!1),f=(g[0],g[1]),x=(0,r.useState)(n),Z=x[0],N=x[1],$=(0,r.useState)({}),S=$[0],C=$[1],w=(0,r.useState)(!1),q=w[0],k=w[1],R=((0,b.I0)(),(0,r.useState)("")),A=(R[0],R[1]),_=(0,r.useState)(""),E=_[0],L=_[1],I=(0,Y.useSession)(),B=I.status,z=I.data;if((0,r.useEffect)((function(){if("authenticated"===B){var e=(0,T.get)(z,"user.accessToken.customer._id"),n=(0,T.get)(z,"user.accessToken.token");A(e),L(n)}}),[B,z]),(0,r.useEffect)((function(){h.then((function(e){A((0,T.get)(e,"user.accessToken.customer._id",""))}))}),[h]),v.isFallback)return(0,s.jsx)("div",{children:"Loading..."});var F=function(){v.replace(v.asPath),f(!0)};(0,r.useEffect)((function(){f(!1)}),[n]),(0,r.useEffect)((function(){N(n),f(!1)}),[n]);var O=function(){var e="";if("loading"===t.status)return(0,s.jsx)("p",{children:"Loading..."});if("authenticated"===t.status){e=(0,T.get)(t,"data.user.accessToken.customer._id"),(0,T.get)(t,"data.user.accessToken.token");var n={id:e};(0,y.IO)(j.Vj,n).then((function(e){var n=(0,T.get)(e,"data.customer.data");N(n),k(!1)}))}};return(0,r.useEffect)((function(){O(),function(){var e="",n="";if((0,T.get)(t,"status"),(0,T.get)(t,"data.user.accessToken.success")){e=(0,T.get)(t,"data.user.accessToken.customer._id"),n=(0,T.get)(t,"data.user.accessToken.token");var s={id:e};(0,y.IO)(J.C4,s,n).then((function(e){if(e&&e.data.orderbyUser.data){var n=(0,T.get)(e,"data.orderbyUser.data",[]);C((0,a.Z)(n))}}))}}()}),[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Z,{title:"Account"}),(0,s.jsx)(Q.Z,{title:"Account"}),(0,s.jsxs)(d.Z,{className:"update-detail-container",children:[(0,s.jsx)(V.x7,{}),"authenticated"===t.status?(0,s.jsxs)(o.Z,{defaultActiveKey:"profile",id:"uncontrolled-tab-example",className:"mb-3",children:[(0,s.jsxs)(c.Z,{className:"my-3",eventKey:"profile",title:"Profile",children:[q&&(0,s.jsx)(D,{setToggleEdit:k,accountDetailInfo:Z,getcustomer:O,refreshData:F,token:E}),!q&&(0,s.jsxs)(u.Z,{className:"box-shadow w-50 pt-2",children:[(0,s.jsxs)(m.Z,{className:"profile-list",variant:"flush",children:[(0,s.jsxs)(m.Z.Item,{children:[(0,s.jsx)("span",{children:(0,s.jsx)("strong",{children:"Firstname"})})," ",(0,s.jsx)("span",{children:(0,T.capitalize)(null===Z||void 0===Z?void 0:Z.firstName)})]}),(0,s.jsxs)(m.Z.Item,{children:[(0,s.jsx)("span",{children:(0,s.jsx)("strong",{children:" Lastname"})})," ",(0,s.jsx)("span",{children:(0,T.capitalize)(null===Z||void 0===Z?void 0:Z.lastName)})]}),(0,s.jsxs)(m.Z.Item,{children:[(0,s.jsx)("span",{children:(0,s.jsx)("strong",{children:"Email"})})," ",(0,s.jsx)("span",{children:(0,T.capitalize)(null===Z||void 0===Z?void 0:Z.email)})]}),(0,s.jsxs)(m.Z.Item,{children:[(0,s.jsx)("span",{children:(0,s.jsx)("strong",{children:"Company"})})," ",(0,s.jsx)("span",{children:(0,T.capitalize)(null===Z||void 0===Z?void 0:Z.company)})]}),(0,s.jsxs)(m.Z.Item,{children:[(0,s.jsx)("span",{children:(0,s.jsx)("strong",{children:"Phone"})})," ",(0,s.jsx)("span",{children:(0,T.capitalize)(null===Z||void 0===Z?void 0:Z.phone)})]})]}),(0,s.jsx)(p.Z,{onClick:function(){return k(!q)},className:"me-0 primary-btn-color",children:"Edit User"})]})]}),(0,s.jsx)(c.Z,{eventKey:"orders",title:"Orders",children:S&&(null===S||void 0===S?void 0:S.length)>0?S.map((function(e,n){return(0,s.jsx)(i.Z,{style:{marginBottom:5},children:(0,s.jsxs)(i.Z.Item,{eventKey:"0",children:[(0,s.jsxs)(i.Z.Header,{children:[(0,s.jsx)(l.Z,{children:(0,s.jsxs)("strong",{children:[" Order id : ",e.id]})}),(0,s.jsx)(l.Z,{children:e.products.map((function(e,n){return(0,s.jsx)("strong",{children:e.name},n)}))}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)("strong",{children:["Total :  ",(0,s.jsx)(W.Z,{price:(0,T.get)(e,"totalSummary.grandTotal",0)})]})})]}),(0,s.jsx)(i.Z.Body,{children:(0,s.jsx)(M.Z,{orderInfo:e})})]})},n)})):null}),(0,s.jsx)(c.Z,{eventKey:"address",title:"Address",children:(0,s.jsx)(U,{addressDetail:Z,address:Z,getcustomer:O,refreshData:F,token:E})}),(0,s.jsx)(c.Z,{eventKey:"recent-view",title:"Recent Views",children:(0,s.jsx)("h1",{children:"this is information about contact"})})]}):(0,s.jsx)("h5",{children:"Please log in to your account"})]})]})}},66866:function(e,n,t){"use strict";t.d(n,{Km:function(){return g},Ve:function(){return v},Vj:function(){return h},Wn:function(){return f},ZB:function(){return x},bk:function(){return y},lR:function(){return j}});var a=t(7297),s=t(19989);function r(){var e=(0,a.Z)(["\n  mutation (\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n    $password: String\n  ) {\n    addCustomer(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n      password: $password\n    ) {\n      message\n      success\n      __typename\n    }\n  }\n"]);return r=function(){return e},e}function i(){var e=(0,a.Z)(["\n  query {\n    customers {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n      message {\n        message\n        success\n      }\n    }\n  }\n"]);return i=function(){return e},e}function l(){var e=(0,a.Z)(["\n  query ($id: ID!) {\n    customer(id: $id) {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n    }\n  }\n"]);return l=function(){return e},e}function d(){var e=(0,a.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    addAddressBook(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n      data\n    }\n  }\n"]);return d=function(){return e},e}function o(){var e=(0,a.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n  ) {\n    updateCustomer(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n    ) {\n      message\n      success\n    }\n  }\n"]);return o=function(){return e},e}function c(){var e=(0,a.Z)(["\n  mutation (\n    $id: ID!\n    $_id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    updateAddressBook(\n      id: $id\n      _id: $_id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,a.Z)(["\n  mutation ($id: ID!, $_id: ID!) {\n    deleteAddressBook(id: $id, _id: $_id) {\n      message\n      success\n    }\n  }\n"]);return u=function(){return e},e}function m(){var e=(0,a.Z)(["\n  mutation ($email: String, $oldPassword: String, $newPassword: String) {\n    resetPassword(\n      email: $email\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      message\n      success\n    }\n  }\n"]);return m=function(){return e},e}function p(){var e=(0,a.Z)(["\n  query ($id: ID!) {\n    cartbyUser(userId: $id) {\n      date\n      id\n      products\n      status\n      total\n      updated\n      userId\n    }\n  }\n"]);return p=function(){return e},e}var v=(0,s.ZP)(r()),h=((0,s.ZP)(i()),(0,s.ZP)(l())),g=(0,s.ZP)(d()),f=(0,s.ZP)(o()),x=(0,s.ZP)(c()),j=(0,s.ZP)(u()),y=(0,s.ZP)(m());(0,s.ZP)(p())},14802:function(e,n,t){"use strict";t.d(n,{YC:function(){return o},aO:function(){return i},oH:function(){return d},q$:function(){return l}});var a=t(35157),s=/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/,r=/^[\w-+]+(\.[\w-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/,i=function(e){return s.test(e)||"Passwords must have at least 8 characters and contain at least one letter and one number"},l=function(e){var n=(null===e||void 0===e?void 0:e.replace(/\D/g,""))||"",t="+".concat(n);return(0,a.yf)(t)||"Please enter a valid phone number"},d=function(e){return r.test(e)||"Please enter a valid email"},o=function(e,n){return e===n||"Passwords do not match"}}},function(e){e.O(0,[8674,4938,8662,7627,7555,9782,8999,4532,6991,5167,7446,9774,2888,179],(function(){return n=33469,e(e.s=n);var n}));var n=e.O();_N_E=n}]);