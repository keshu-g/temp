(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{50594:function(e,n,t){"use strict";var s=t(64836);n.Z=void 0;var i=s(t(64938)),a=t(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=r},35654:function(e,n,t){"use strict";var s=t(67294),i=function(e){return e&&"function"!==typeof e?function(n){e.current=n}:e};n.Z=function(e,n){return(0,s.useMemo)((function(){return function(e,n){var t=i(e),s=i(n);return function(e){t&&t(e),s&&s(e)}}(e,n)}),[e,n])}},23004:function(e,n){"use strict";n.Z=!("undefined"===typeof window||!window.document||!window.document.createElement)},91505:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var s=t(67216);function i(e,n){return function(e){var n=(0,s.Z)(e);return n&&n.defaultView||window}(e).getComputedStyle(e,n)}var a=/([A-Z])/g;var r=/^ms-/;function o(e){return function(e){return e.replace(a,"-$1").toLowerCase()}(e).replace(r,"-ms-")}var d=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var l=function(e,n){var t="",s="";if("string"===typeof n)return e.style.getPropertyValue(o(n))||i(e).getPropertyValue(o(n));Object.keys(n).forEach((function(i){var a=n[i];a||0===a?!function(e){return!(!e||!d.test(e))}(i)?t+=o(i)+": "+a+";":s+=i+"("+a+") ":e.style.removeProperty(o(i))})),s&&(t+="transform: "+s+";"),e.style.cssText+=";"+t}},7130:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var s=t(23004),i=!1,a=!1;try{var r={get passive(){return i=!0},get once(){return a=i=!0}};s.Z&&(window.addEventListener("test",r,r),window.removeEventListener("test",r,!0))}catch(c){}var o=function(e,n,t,s){if(s&&"boolean"!==typeof s&&!a){var r=s.once,o=s.capture,d=t;!a&&r&&(d=t.__once||function e(s){this.removeEventListener(n,e,o),t.call(this,s)},t.__once=d),e.addEventListener(n,d,i?s:o)}e.addEventListener(n,t,s)};var d=function(e,n,t,s){var i=s&&"boolean"!==typeof s?s.capture:s;e.removeEventListener(n,t,i),t.__once&&e.removeEventListener(n,t.__once,i)};var l=function(e,n,t,s){return o(e,n,t,s),function(){d(e,n,t,s)}}},67216:function(e,n,t){"use strict";function s(e){return e&&e.ownerDocument||document}t.d(n,{Z:function(){return s}})},55248:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return t(73722)}])},60865:function(e,n,t){"use strict";var s=t(85893),i=(t(67294),t(45697)),a=t.n(i),r=t(50390),o=t(17876),d=t(96486),l=function(e){var n=e.totalSummary,t=e.couponCartDetail,i=n.mrpTotal,a=n.discountTotal,l=n.totalTax,c=n.totalShipping,u=n.grandTotal;return(0,s.jsx)("div",{className:"cart-totals",children:(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsx)("table",{className:"table",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"cartTotal_label",children:"Total MRP"}),(0,s.jsx)("td",{className:"cartTotal_amount",children:(0,s.jsx)("span",{className:"font-lg fw-900 text-brand",children:(0,s.jsx)(r.Z,{price:i||0})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"cartTotal_label ",children:"Discount on MRP"}),(0,s.jsx)("td",{className:"cartTotal_amount ",children:(0,s.jsxs)("span",{className:"font-lg fw-900 text-brand textSuccess",children:["- ",(0,s.jsx)(r.Z,{price:a||0})]})})]}),!(0,o.YN)(l)&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"cartTotal_label",children:"Tax"}),(0,s.jsxs)("td",{className:"cartTotal_amount",children:[" ",(0,s.jsx)("i",{className:"ti-gift mr-5",children:(0,s.jsx)(r.Z,{price:l||0})})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"cartTotal_label",children:"Shipping"}),(0,o.YN)(c||0)?(0,s.jsxs)("td",{className:"cartTotal_amount",children:[" ",(0,s.jsx)("i",{className:"ti-gift mr-5"}),"Free Shipping"]}):(0,s.jsxs)("td",{className:"cartTotal_amount",children:[(0,s.jsx)("i",{className:"ti-gift mr-5"}),(0,s.jsx)(r.Z,{price:c||0})]})]}),(0,o.dZ)(t)&&(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"cartTotal_label ",children:["Coupon Saving"," "]}),(0,s.jsxs)("td",{className:"cartTotal_amount ",children:[(0,s.jsx)("i",{className:"ti-gift mr-5"}),"- ",(0,s.jsx)(r.Z,{price:(0,d.get)(n,"couponDiscountTotal",0)})]})]}),(0,s.jsxs)("tr",{className:"grandtotal-row",children:[(0,s.jsx)("td",{className:"cartTotal_label",children:"Total Amount"}),(0,s.jsx)("td",{className:"cartTotal_amount",children:(0,s.jsx)("span",{className:"font-xl fw-900 text-brand",children:(0,s.jsx)(r.Z,{price:u||0})})})]})]})})})})};n.Z=l,l.propTypes={totalSummary:a().object.isRequired,couponCartDetail:a().object.isRequired}},86428:function(e,n,t){"use strict";var s=t(85893),i=t(41664),a=t.n(i),r=t(10682);n.Z=function(e){var n=e.title,t=n.split("/"),i=t.map((function(e,n){return(0,s.jsx)("li",{className:"breadcrumb-item ".concat(n===t.length-1?"active":"page-active"),children:(i=e,i[0].toUpperCase()+i.slice(1))});var i}));return(0,s.jsx)("nav",{className:"breadcrumb-nav","aria-label":"breadcrumb",style:{},children:(0,s.jsx)(r.Z,{children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item page-active",children:(0,s.jsx)(a(),{href:"/",className:"breadcrumb-link",children:"Home"})}),i]})})})}},28791:function(e,n,t){"use strict";var s=t(26042),i=t(85893),a=t(96486),r=(t(67294),t(45697)),o=t.n(r),d=t(61985),l=t(34193),c=t(35005),u=t(17876),p=function(e){var n=e.info,t=e.btnAction,r=e.btnText,o=e.title,p=e.type,m=e.style;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"checkout-details-title",style:(0,s.Z)({},m),children:(0,i.jsx)("h5",{children:o})}),(0,i.jsxs)("div",{className:"checkout-shipping-address",children:[(0,i.jsxs)("div",{className:"checkout-list-content",children:[p&&(0,i.jsx)("div",{className:"address-type",children:(0,i.jsxs)("b",{children:[(0,a.get)(n,"addressType")&&"Home"!==(0,a.get)(n,"addressType")?"Office"===(0,a.get)(n,"addressType")?(0,i.jsx)(d.Z,{}):"":(0,i.jsx)(l.Z,{}),(0,a.get)(n,"addressType")||"Home"]})}),(0,i.jsxs)("div",{className:"info",children:[(0,i.jsxs)("h6",{style:{fontWeight:"600"},children:[" ",(0,a.capitalize)((0,a.get)(n,"firstname",""))," ",(0,a.capitalize)((0,a.get)(n,"lastname",""))]}),(0,i.jsx)("p",{children:(0,u.un)((0,a.get)(n,"phone",""))})]}),(0,i.jsxs)("p",{children:[(0,a.capitalize)((null===n||void 0===n?void 0:n.city)||"")," ",(0,a.capitalize)((null===n||void 0===n?void 0:n.state)||"")," ",(0,a.capitalize)((null===n||void 0===n?void 0:n.zip)||"")," ",(0,a.capitalize)((null===n||void 0===n?void 0:n.country)||"")]})]}),(0,i.jsx)("div",{className:"checkout-shipping-edit-btn",children:r&&(0,i.jsx)(c.Z,{variant:"outline-primary",onClick:t,children:r})})]})]})};n.Z=p,p.propTypes={info:o().object.isRequired,btnAction:o().func.isRequired,btnText:o().string.isRequired,title:o().string.isRequired,type:o().string.isRequired,style:o().object.isRequired}},6995:function(e,n,t){"use strict";t.d(n,{M:function(){return m}});var s=t(26042),i=t(96486),a=t(39738),r=t(49058),o=t(17876),d=(t(29020),t(45543)),l=t(80487),c=t(47568),u=t(70655),p=function(){var e=(0,c.Z)((function(e,n,t,s){var i,a;return(0,u.__generator)(this,(function(r){return i={key:e,order_id:n,handler:function(){t.push({pathname:l.Kh,query:{orderId:s}})}},(a=new window.Razorpay(i)).on("payment.failed",(function(){t.push({pathname:l.Pw,query:{orderId:s}})})),a.open(),[2]}))}));return function(n,t,s,i){return e.apply(this,arguments)}}(),m=function(e,n,t,c,u,m,h,g,v){return new Promise((function(e,f){if("authenticated"===(null===n||void 0===n?void 0:n.status)){t(!0);var y=(0,i.get)(c,"billing.paymentMethod"),x=(0,s.Z)({},c);(null===m||void 0===m?void 0:m.couponApplied)&&(x.couponCode=(0,i.get)(m,"appliedCouponCode")),u((0,a.u1)(c)),(0,o.QF)(r.UO,x,u).then((function(n){t(!1);var s=(0,i.get)(n,"data.addOrder"),a=s.success,r=s.message,o=s.redirectUrl,c=s.id,u=s.paypalOrderId,m=s.razorpayOrderId;switch(y){case l._z:a&&o&&g.push(o);break;case l.YR:a&&u?e({paypalOrderId:u,orderId:c}):f(new Error("Paypal order ID not found"));break;case l.fD:if(a&&c){h(""),g.push({pathname:l.Kh,query:{orderId:c}})}break;case l.VH:a&&m&&p(v,m,g,c);break;case l.rS:if(a&&c){h(""),g.push({pathname:l.Kh,query:{orderId:c}})}break;default:a||(0,d.Z)(r,!1)}})).catch((function(e){t(!1),(0,o.S3)(e,u,g)}))}}))}},53294:function(e,n,t){"use strict";var s=t(85893);t(67294);n.Z=function(e){var n=e.message;return(0,s.jsx)("p",{children:(0,s.jsx)("small",{className:"error-message",children:n})})}},72760:function(e,n,t){"use strict";var s=t(26042),i=t(69396),a=t(85893),r=t(96486),o=t(53294),d=t(45697),l=t.n(d),c=function(e){var n=e.type,t=e.className,d=e.errors,l=e.id,c=e.placeholder,u=e.value,p=e.name,m=e.registerRef,h=e.onChange,g=e.handleBlur,v=e.disabled,f=e.style;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",(0,i.Z)((0,s.Z)({type:n,className:t,id:l,placeholder:c,onBlur:g,value:u,name:p,style:f},m),{onChange:function(e){return h(e,n)},disabled:v||!1})),d&&(0,a.jsx)("div",{className:"error-message",children:(0,a.jsx)(o.Z,{message:(0,r.get)(d,"".concat(p,".message"),"")})})]})};c.propTypes={type:l().string.isRequired,className:l().string,errors:l().object.isRequired,id:l().string.isRequired,placeholder:l().string.isRequired,value:l().oneOfType([l().string,l().number]),name:l().string.isRequired,registerRef:l().object,onChange:l().func.isRequired,handleBlur:l().func,disabled:l().bool,style:l().object},n.Z=c},52586:function(e,n,t){"use strict";var s=t(85893),i=(t(67294),t(24358)),a=t(98456);n.Z=function(){return(0,s.jsx)(i.Z,{className:"backdrop",open:!0,children:(0,s.jsx)("div",{className:"backdropInnerWrapper",children:(0,s.jsx)(a.Z,{color:"inherit"})})})}},73722:function(e,n,t){"use strict";t.r(n),t.d(n,{CheckOut:function(){return we},default:function(){return Ie}});var s=t(47568),i=t(14924),a=t(26042),r=t(69396),o=t(29815),d=t(70655),l=t(85893),c=t(67294),u=t(41664),p=t.n(u),m=(t(17150),t(86428)),h=t(10682),g=t(25617),v=t(16518),f=t(97346),y=t(87536),x=t(84032),j=t(67555),Z=t.n(j),b=(t(79745),t(35157)),N=t(17876),C=t(72760),S=t(96486),_=t(53294),k=t(96775),T=t(14802),w=function(e){var n,t,s,i,o,d,u=e.handleShippingPhone,p=e.control,m=e.getBillingInfo,h=e.registerRef,g=e.errorRef,j=e.billingInfo,w=e.handleZipCode,I=e.checkCode,A=e.ZipMessage,$=e.shippingAddressToggle,q=e.handleShippingChange,R=e.shippingAdd,E=e.shippingInfo,P=e.handlePhoneInput,D=e.handleBillingInfo,B=e.setZipMessage,L=e.isAddNewAddressForm,z=e.addressList,M=e.isEditAddress,F=[{value:"Home",label:"Home"},{value:"Office",label:"Office"}],O={option:function(e,n){return(0,r.Z)((0,a.Z)({},e),{backgroundColor:n.isSelected?"#caf3fe":"inherit","&:hover":{backgroundColor:n.isSelected?"#caf3fe":"#d9f7ff"}})}};(0,c.useEffect)((function(){var e=j,n=E;e=(0,r.Z)((0,a.Z)({},e),{addressType:null===j||void 0===j?void 0:j.addressType}),n=(0,r.Z)((0,a.Z)({},n),{addressType:null===n||void 0===n?void 0:n.addressType}),m({billing:e,shipping:n})}),[E,j,R]);var K=function(e,n){var t;return(null===(t=e[n])||void 0===t?void 0:t.message)||""};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"billing-container",children:(0,l.jsxs)("div",{children:[L||0===(null===z||void 0===z?void 0:z.length)||M?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsx)("div",{className:"col-lg-6 col-md-12 col-md-5half",children:(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"firstname",label:"firstname",placeholder:"First name *"},h("firstname",{required:{value:!j.firstname,message:"First Name is Required"},minLength:{value:4,message:"First Name Min length is 4"}})),{errors:g,value:j.firstname,onChange:D,onKeyDown:function(e){return(0,N.Bm)(e)}}))}),(0,l.jsx)("div",{className:"col-lg-6 col-md-12 ",children:(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"lastname",label:"lastname",placeholder:"Last name *"},h("lastname",{required:{value:!j.lastname,message:"Last Name is Required"}})),{errors:g,value:j.lastname,onChange:D,error:!!g.billingInfo,onKeyDown:function(e){return(0,N.Bm)(e)}}))})]}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(y.Qr,{name:"phone",control:p,rules:{required:{value:!(0,S.get)(j,"phone"),message:"Phone number is Required"},validate:function(){var e,n=null===(e=(0,S.get)(j,"phone",""))||void 0===e?void 0:e.replace(/\D/g,""),t="+".concat(n);return(0,b.yf)(t)}},render:function(e){var n=e.field;n.onChange,n.value;return(0,l.jsx)(Z(),{enableSearch:"true",country:"us",inputClass:"custom-input",placeholder:"Enter phone number",value:(null===j||void 0===j?void 0:j.phone)||"",onChange:function(e){return P("phone",e)}})}}),(0,l.jsx)("p",{children:(0,l.jsxs)("small",{style:{color:"red"},children:["required"===(null===g||void 0===g||null===(n=g.phone)||void 0===n?void 0:n.type)?null===(t=g.phone)||void 0===t?void 0:t.message:"","validate"===(null===g||void 0===g||null===(s=g.phone)||void 0===s?void 0:s.type)?"Phone number is invalid":""]})})]}),(0,l.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,l.jsx)(C.Z,{className:"input-filled",type:"text",required:"",name:"email",label:"Email",placeholder:"email *",registerRef:h("email",{required:{value:!(0,S.get)(j,"email"),message:k.KR},validate:function(){return(0,T.oH)((0,S.get)(j,"email"))}}),errors:g,value:j.email,onChange:function(e){D(e)},onKeyDown:function(e){return(0,N.Bm)(e)}})})]}),(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"address",label:"address",placeholder:"Address Line 1*"},h("address",{required:{value:!j.address,message:"Address is Required"}})),{value:j.address,onChange:function(e){D(e)},onKeyDown:function(e){return(0,N.Bm)(e)},errors:g})),(0,l.jsx)(C.Z,{className:"input-filled",name:"addressLine2",label:"address",style:{marginBottom:"12px"},placeholder:"Address Line 2",value:null===j||void 0===j?void 0:j.addressLine2,onChange:function(e){D(e)},onKeyDown:function(e){return(0,N.Bm)(e)}}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"city",placeholder:"City / Town *"},h("city",{required:{value:!j.city,message:"City is Required"}})),{value:j.city,onChange:function(e){D(e)},onKeyDown:function(e){return(0,N.Bm)(e)},errors:g}))}),(0,l.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"state",placeholder:"State *"},h("state",{required:{value:!j.state,message:"State is Required"}})),{value:j.state,onChange:function(e){return D(e)},onKeyDown:function(e){return(0,N.Bm)(e)},errors:g}))}),(0,l.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"country",placeholder:"Country *"},h("country",{required:{value:!j.country,message:"Country is Required"}})),{value:j.country,onChange:function(e){D(e)},onKeyDown:function(e){return(0,N.Bm)(e)},errors:g}))})]}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",name:"zip",handleBlur:function(e){!R&&(null===j||void 0===j?void 0:j.zip)?I(j.zip):R||B((0,r.Z)((0,a.Z)({},A),{zipMessage:"",zipSuccess:!1}))},placeholder:"Zip *"},h("zip",{required:{value:!j.zip,message:"Zip is Required"}})),{value:j.zip,onChange:w,onKeyDown:function(e){return(0,N.Bm)(e)}})),!R&&(null===j||void 0===j?void 0:j.zip)&&(0,l.jsx)("p",{children:(0,l.jsx)("small",{style:{color:A.zipSuccess?"#4BB543":"red"},children:A.zipMessage})}),!R&&!A.zipMessage&&(0,l.jsx)(_.Z,{message:K(g,"zip")}),R&&(0,l.jsx)(_.Z,{message:K(g,"zip")})]}),(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(y.Qr,{name:"addressType",control:p,render:function(e){var n=e.field,t=n.onChange;n.value,n.ref;return(0,l.jsx)(x.ZP,{value:(null===F||void 0===F?void 0:F.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===j||void 0===j?void 0:j.addressType)})))||"",placeholder:"Address Type",name:"addressType",options:F,onChange:function(e){D(e,"addressType"),t(e)},className:"custom-select",styles:O})}}),(0,l.jsx)("p",{children:(0,l.jsx)("small",{style:{color:"red"},children:"required"===(null===(i=g.addressType)||void 0===i?void 0:i.type)?null===(o=g.addressType)||void 0===o?void 0:o.message:""})})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsxs)("div",{className:"chek-form custome-checkbox",children:[(0,l.jsx)(f.Z,{children:(0,l.jsx)(f.Z.Check,{className:"form-check-input",id:"defaultAddress",checked:(0,S.get)(j,"defaultAddress"),onChange:function(e){return D(e,"defaultAddress")}})}),(0,l.jsx)("label",{className:"form-check-label label_info","data-bs-toggle":"collapse","aria-controls":"collapseAddress",children:(0,l.jsx)("span",{children:"Make It Default Address"})})]})})]})]}):null,(0,l.jsxs)("div",{className:"ship_detail",children:[(0,l.jsx)("div",{className:"form-group",children:(0,l.jsxs)("div",{className:"chek-form custome-checkbox",children:[(0,l.jsx)(f.Z,{children:(0,l.jsx)(f.Z.Check,{className:"form-check-input",name:"checkbox",id:"differentaddress",checked:R,onChange:function(e){return $(e)}})}),(0,l.jsx)("label",{className:"form-check-label label_info","data-bs-toggle":"collapse","aria-controls":"collapseAddress",children:(0,l.jsx)("span",{children:"Ship to a different address?"})})]})}),(0,l.jsx)(v.Z,{in:R,children:(0,l.jsxs)("div",{id:"collapseAddress",className:"different_address collapse in",children:[(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-6 col-md-12 col-md-5half",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"firstname",label:"firstname",placeholder:"First name *"},h("shippingfirstname",{required:{value:!!R&&!(null===E||void 0===E?void 0:E.firstname),message:"First Name is Required"},minLength:{value:4,message:"First Name Min length is 4"}})),{value:null===E||void 0===E?void 0:E.firstname,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippingfirstname")})]}),(0,l.jsxs)("div",{className:"col-lg-6 col-md-12 ",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"lastname",label:"lastname",placeholder:"Last name *"},h("shippinglastname",{required:{value:!!R&&!E.lastname,message:"Last Name is Required"}})),{value:E.lastname,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippinglastname")})]})]}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(y.Qr,{name:"shippingPhone",control:p,rules:{required:{value:!!R&&!(0,S.get)(E,"phone"),message:"Phone number is Required"},validate:function(){var e,n=null===(e=(0,S.get)(E,"phone",""))||void 0===e?void 0:e.replace(/\D/g,""),t="+".concat(n);return!R||(0,b.yf)(t)}},render:function(e){var n=e.field;n.onChange,n.value;return(0,l.jsx)(Z(),{enableSearch:"true",country:"us",inputClass:"custom-input",placeholder:"Enter phone number",value:E.phone,onChange:function(e){return u("phone",e)}})}}),(0,l.jsx)(_.Z,{message:K(g,"shippingPhone")}),"validate"===(null===g||void 0===g||null===(d=g.shippingPhone)||void 0===d?void 0:d.type)?(0,l.jsx)(_.Z,{message:"Phone number is invalid"}):""]}),(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(C.Z,{className:"input-filled",type:"text",required:"",name:"email",label:"Email",placeholder:"email *",registerRef:h("shippingemail",{required:{value:!(0,S.get)(E,"email"),message:k.KR},validate:function(){return(0,T.oH)((0,S.get)(E,"email"))}}),value:null===E||void 0===E?void 0:E.email,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}}),(0,l.jsx)(_.Z,{message:K(g,"shippingemail")})]})]}),(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",name:"address",label:"address",placeholder:"Address Line 1*"},h("shippingaddress",{required:{value:!!R&&!E.address,message:"Address is Required"}})),{value:E.address,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippingaddress")}),(0,l.jsx)(C.Z,{className:"input-filled",name:"addressLine2",label:"addressLine2",placeholder:"Address Line 2",value:(0,S.get)(E,"addressLine2"),onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}}),(0,l.jsx)(_.Z,{message:K(g,"shippingaddressLine2")}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-4 col-md-12",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"city",placeholder:"City / Town *"},h("shippingcity",{required:{value:!!R&&!(null===E||void 0===E?void 0:E.city),message:"City is Required"}})),{value:E.city,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippingcity")})]}),(0,l.jsxs)("div",{className:"col-lg-4 col-md-12",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"state",placeholder:"State *"},h("shippingstate",{required:{value:!!R&&!(null===E||void 0===E?void 0:E.state),message:"State is Required"}})),{value:E.state,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippingstate")})]}),(0,l.jsxs)("div",{className:"col-lg-4 col-md-12",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",name:"country",placeholder:"Country *"},h("shippingcountry",{required:{value:!!R&&!(null===E||void 0===E?void 0:E.country),message:"Country is Required"}})),{value:E.country,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),(0,l.jsx)(_.Z,{message:K(g,"shippingcountry")})]})]}),(0,l.jsxs)("div",{className:"twoRows",children:[(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(C.Z,(0,r.Z)((0,a.Z)({className:"input-filled",type:"text",required:"",label:"zip",name:"zip",placeholder:"Zip *",handleBlur:function(e){(null===E||void 0===E?void 0:E.zip)?I(null===E||void 0===E?void 0:E.zip):B((0,r.Z)((0,a.Z)({},A),{zipMessage:"",zipSuccess:!1}))}},h("shippingzip",{required:{value:!!R&&!(null===E||void 0===E?void 0:E.zip),message:"zip is Required"}})),{value:E.zip,onChange:q,onKeyDown:function(e){return(0,N.Bm)(e)}})),E.zip?(0,l.jsx)("p",{children:(0,l.jsx)("small",{style:{color:A.zipSuccess?"#4BB543":"red"},children:A.zipMessage})}):(0,l.jsx)(_.Z,{message:K(g,"shippingzip")})]}),(0,l.jsxs)("div",{className:"col-lg-6 col-md-12",children:[(0,l.jsx)(y.Qr,{name:"shippingAddressType",control:p,render:function(e){var n=e.field,t=n.onChange;n.value,n.ref;return(0,l.jsx)(x.ZP,{value:(null===F||void 0===F?void 0:F.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===E||void 0===E?void 0:E.addressType)})))||"",placeholder:"Address Type",name:"addressType",options:F,onChange:function(e){q(e,"addressType"),t(e)},className:"custom-select",styles:O})}}),(0,l.jsx)(_.Z,{message:K(g,"shippingAddressType")})]})]})]})})]})]})})})},I=t(45697),A=t.n(I),$="/_next/static/media/razorpay.441fb1fc.png",q="/_next/static/media/stripe.70beae46.png",R="/_next/static/media/paypal.4bb87d7b.png",E="/_next/static/media/bank.815f4418.png",P="/_next/static/media/cod.7af2c0b8.png",D=function(e){var n=e.getOrderDetails,t=e.cartItems,s=e.billingInfo,i=e.handleBillingInfo,a=e.shippingInfo,r=e.settings,o=t,d=(0,c.useState)([]),u=d[0],p=d[1],m=(0,c.useState)([]),h=m[0],g=m[1];(0,c.useEffect)((function(){var e=(0,S.get)(r,"setting.payment"),n=[],t=function(t){var s=(0,S.get)(e,"[".concat(t,"]"));if((0,S.get)(s,"enable")){var i=s.title,a=s.description,r=s.account_details,o=[];r&&(o=[{key:"Account Name",value:(0,S.get)(r,"account_Name")},{key:"Account Number",value:(0,S.get)(r,"account_number")},{key:"Bank Name",value:(0,S.get)(r,"bank_name")},{key:"Short Code",value:(0,S.get)(r,"short_code")},{key:"IBAN",value:(0,S.get)(r,"iban")},{key:"BIC/SWIFT",value:(0,S.get)(r,"bic_swift")}]),n.push({value:t.replaceAll("_",""),label:i,description:a,detail:o})}};t("cash_on_delivery"),t("bank_transfer"),t("stripe"),t("paypal"),t("razorpay"),g(n)}),[r]);(0,c.useEffect)((function(){(null===u||void 0===u?void 0:u.length)>0&&u&&(null===u||void 0===u?void 0:u.length)>0&&(null===u||void 0===u||u.map((function(e){var n=(0,S.get)(e,"pricing.sellprice");n&&(null===e||void 0===e||e.quantity)})))}),[u]);return(0,c.useEffect)((function(){o&&(null===o||void 0===o?void 0:o.length)>0&&p(o)}),[o]),(0,c.useEffect)((function(){n({billing:s,shipping:a})}),[s,a,o]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"payment-method-container",children:(0,l.jsxs)("div",{className:"payment-method",children:[(0,l.jsx)("h5",{className:"mb-2",children:"Payment Mode"}),(0,l.jsx)("div",{className:"cust-detail-container",children:null===h||void 0===h?void 0:h.map((function(e,n){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"address-card ".concat((null===s||void 0===s?void 0:s.paymentMethod)&&e.value===(null===s||void 0===s?void 0:s.paymentMethod)?"active":""),onClick:function(){return i(e.value,"paymentMethod")},children:[(0,l.jsx)("span",{className:"radio-check"}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:(0,S.get)(e,"label","")}),(0,l.jsx)("p",{children:(0,S.get)(e,"description","")})]}),(0,l.jsx)("img",{className:"payment-mode-img",src:"Razorpay"===(null===e||void 0===e?void 0:e.label)?$:"Paypal"===(null===e||void 0===e?void 0:e.label)?R:"Stripe"===(null===e||void 0===e?void 0:e.label)?q:"Cash On Delivery"===(null===e||void 0===e?void 0:e.label)?P:"Bank Transfer"===(null===e||void 0===e?void 0:e.label)?E:""})]})})]},n)})}))})]})})})};D.propTypes={getOrderDetails:A().func.isRequired,cartItems:A().array.isRequired,billingInfo:A().object.isRequired,handleBillingInfo:A().func.isRequired,shippingInfo:A().object.isRequired,settings:A().object.isRequired};var B=D,L=t(34193),z=t(61985),M=t(55345),F=t(6103),O=t(35005),K=function(e){var n=e.addressBook,t=e.getBillingInfo,s=e.SelectAddressBook,i=e.billingInfo,o=e.shippingInfo,d=e.shippingAdd,u=e.toggleAddNewAddressForm,p=e.editCustomerAddress;return(0,c.useEffect)((function(){var e,n,s=i,d=o;s=(0,r.Z)((0,a.Z)({},s),{addressType:null===i||void 0===i||null===(e=i.addressType)||void 0===e?void 0:e.value}),d=(0,r.Z)((0,a.Z)({},d),{addressType:null===d||void 0===d||null===(n=d.addressType)||void 0===n?void 0:n.value}),t({billing:s,shipping:d})}),[o,i,d]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex ".concat(n&&(null===n||void 0===n?void 0:n.length)>0?"justify-content-between":"justify-content-end"," align-items-center"),children:[n&&(null===n||void 0===n?void 0:n.length)>0&&(0,l.jsx)("h5",{style:{marginBottom:0},children:"Customer Details"}),(0,l.jsxs)("button",{className:"add-btn",onClick:u,children:[(0,l.jsx)("span",{children:(0,l.jsx)(F.Z,{})})," ","Add a New Address"]})]}),(0,l.jsx)("div",{children:n&&(null===n||void 0===n?void 0:n.length)>0&&(0,l.jsx)("div",{className:"customer-detail",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"cust-detail-container",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"address-card ".concat((null===i||void 0===i?void 0:i.id)&&e._id===(null===i||void 0===i?void 0:i.id)?"active":""),onClick:function(n){return s(e,n)},children:[(0,l.jsx)("span",{className:"radio-check"}),(0,l.jsx)(O.Z,{className:"edit-btn",variant:"link",onClick:function(){return p(e)},children:(0,l.jsx)(M.Z,{})}),(0,l.jsxs)("div",{className:"content",children:[(0,l.jsxs)("b",{children:[(0,S.get)(e,"addressType")&&"Home"!==(0,S.get)(e,"addressType")?"Office"===(0,S.get)(e,"addressType")?(0,l.jsx)(z.Z,{}):"":(0,l.jsx)(L.Z,{}),(0,S.get)(e,"addressType")||"Home"]}),(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsxs)("p",{children:[(0,S.get)(e,"firstName")," ",(0,S.get)(e,"lastName")]}),(0,l.jsx)("p",{children:(0,S.get)(e,"phone")})]}),(0,l.jsx)("p",{children:(0,S.get)(e,"addressLine1")}),(0,l.jsx)("p",{children:(0,S.get)(e,"addressLine2")})]})]},n)})}))})})})})]})};K.propTypes={addressBook:A().array,getBillingInfo:A().func,SelectAddressBook:A().func,billingInfo:A().object,shippingInfo:A().object,shippingAdd:A().object,toggleAddNewAddressForm:A().func,editCustomerAddress:A().func};var Q=K,H=t(33299),Y=t(28791),V=function(e){var n=e.currency,t=e.shippingInfo,s=e.prevFormStep,i=e.shippingAdd,a=e.billingInfo;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"checkout-Details-shipping",children:[(0,l.jsx)(Y.Z,{title:"Billing details",info:a,btnText:"Change",btnAction:s,style:{marginTop:"0"}}),i?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Y.Z,{title:"Shipping details",info:t,btnText:"Change",btnAction:s})}):null,(0,l.jsxs)("div",{className:"checkout-shipping-method",children:[(0,l.jsx)("div",{className:"checkout-details-title",children:(0,l.jsx)("h5",{children:"Shipping Method"})}),(0,l.jsx)("div",{className:"cust-detail-container",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"address-card active",children:[(0,l.jsx)("span",{className:"radio-check"}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{className:"mb-3",children:"Free Shipping"}),(0,l.jsx)("p",{children:"(5-7 Days delivery)"})]}),(0,l.jsxs)("p",{children:[n,"0.00"]})]})})]})})})]})]})})},U=t(11163),W=t(7297),X=t(19989);function G(){var e=(0,W.Z)(["\n  query (\n    $userId: ID\n    $cartItems: [calculateCartProducts]\n    $couponCode: String!\n  ) {\n    calculateCoupon(\n      couponCode: $couponCode\n      cartItems: $cartItems\n      userId: $userId\n    ) {\n      message\n      success\n      id\n      userId\n      status\n      cartItems\n      date\n      totalSummary\n      couponCard\n      updated\n    }\n  }\n"]);return G=function(){return e},e}function J(){var e=(0,W.Z)(["\n  query {\n    coupons {\n      data {\n        id\n        code\n        description\n        discountType\n        discountValue\n        freeShipping\n        expire\n        minimumSpend\n        maximumSpend\n        products\n        excludeProducts\n        categories\n        excludeCategories\n        categoryTree\n        date\n        updated\n      }\n      message {\n        message\n        success\n      }\n    }\n  }\n"]);return J=function(){return e},e}function ee(){var e=(0,W.Z)(["\n  query ($id: ID!) {\n    coupon(id: $id) {\n      data {\n        id\n        code\n        description\n        discountType\n        discountValue\n        freeShipping\n        expire\n        minimumSpend\n        maximumSpend\n        products\n        excludeProducts\n        categories\n        excludeCategories\n        categoryTree\n        date\n        updated\n      }\n      message {\n        message\n        success\n      }\n    }\n  }\n"]);return ee=function(){return e},e}var ne=(0,X.Ps)(G()),te=((0,X.Ps)(J()),(0,X.Ps)(ee()),t(36968)),se=t(46907),ie=t(50390),ae=function(e){var n=e.couponCartDetail,t=e.removeCoupon;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"applied-coupon-section",children:[(0,l.jsxs)("span",{children:[(0,l.jsxs)("p",{children:["You Saved :",(0,l.jsx)(ie.Z,{price:(0,S.get)(n,"appliedCouponDiscount",0)})]}),(0,l.jsxs)("p",{className:"textSuccess",children:["Coupon Applied : ",(0,S.get)(n,"appliedCouponCode")]})]}),(0,l.jsx)("span",{children:(0,l.jsx)(se.Z,{className:"delete-coupon",onClick:t})})]})})},re=t(50594),oe=t(17759),de=t(98456),le=function(e){var n=e.cartItems,t=e.removeToCart,s=e.updateCartProductQuantity,i=e.cartLoading;return(0,l.jsx)(l.Fragment,{children:i?(0,l.jsx)("div",{className:"loader-wrapper",children:(0,l.jsx)(de.Z,{})}):(0,l.jsx)("div",{className:"cart-product-base-container",children:null===n||void 0===n?void 0:n.map((function(e){return(0,l.jsxs)("div",{className:"itemContainer-base-item ",children:[(0,l.jsx)("div",{children:(null===e||void 0===e?void 0:e.available)?(0,l.jsx)(p(),{href:"/product/"+e.url,children:(0,l.jsx)(oe.Z,{src:(0,S.get)(e,"feature_image",""),alt:null===e||void 0===e?void 0:e.name,className:"cart-product-image cursor-pointer"})}):(0,l.jsx)(oe.Z,{src:(0,S.get)(e,"feature_image",""),alt:null===e||void 0===e?void 0:e.name,className:"cart-product-image cursor-pointer"})}),(0,l.jsxs)("div",{style:{padding:"10px 0"},className:"product-details",children:[(0,l.jsx)("div",{className:"mb-2",children:(null===e||void 0===e?void 0:e.available)?(0,l.jsx)(p(),{href:"/product/"+e.url,children:(0,l.jsx)("h3",{className:"cart-product-name cursor-pointer",children:e.name})}):(0,l.jsx)("h3",{className:"cart-product-name",children:e.name})}),(0,l.jsxs)("div",{className:"itemContainer-base-price",children:[(0,l.jsx)("div",{className:"itemComponents-base-price itemComponents-base-bold ",children:(0,l.jsx)("div",{children:(0,l.jsx)(ie.Z,{price:(0,S.get)(e,"amount",0)})})}),0!==(0,S.get)(e,"discountPercentage",0)&&(0,l.jsxs)("div",{className:"itemContainer-base-discountBlock",children:[(0,l.jsx)("span",{className:"itemComponents-base-strikedAmount",children:(0,l.jsx)("span",{className:"itemComponents-base-price itemComponents-base-strike itemContainer-base-strikedAmount",children:(0,l.jsx)(ie.Z,{price:(0,S.get)(e,"mrpAmount",0)})})}),(0,l.jsxs)("span",{className:"itemComponents-base-itemDiscount",children:[(0,S.get)(e,"discountPercentage"),"% OFF"]})]})]}),(0,l.jsx)("div",{className:"itemContainer-base-sizeAndQty",children:(0,l.jsxs)("div",{className:"itemComponents-base-quantity",children:[(0,l.jsx)("label",{className:"quantity-label",children:"Qty : "}),(0,l.jsx)("select",{id:"quantitySelect",className:"quantity-button",value:(0,S.get)(e,"quantity",1),onChange:function(n){return s(e,parseInt((0,S.get)(n,"target.value",1)))},children:Array.from({length:20},(function(e,n){return n+1})).map((function(e){return(0,l.jsx)("option",{value:e,children:e},e)}))})]})})]}),(0,l.jsx)("div",{className:"cross-icon cursor-pointer",children:(0,l.jsx)(re.Z,{onClick:function(){return t(e)}})})]},e.id)}))})})},ce=le;le.propTypes={cartItems:A().array.isRequired,removeToCart:A().func.isRequired,updateCartProductQuantity:A().func.isRequired,cartLoading:A().bool.isRequired};var ue=t(60865),pe=function(e){var n=e.cartLoading,t=e.cartItems,s=e.removeToCart,i=e.updateCartProductQuantity,a=e.currencyOption,r=e.totalSummary,o=e.couponCartDetail,d=e.currency,c=e.couponCode,u=e.setCouponCode,p=e.doApplyCouponCode,m=e.CouponLoading,h=e.removeCoupon;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"col-md-12 col-sm-12 col-md-2-5",children:[(0,l.jsx)("div",{className:"cart-items-list",children:(0,l.jsx)(ce,{cartItems:t,removeToCart:s,updateCartProductQuantity:i,cartLoading:n})}),(0,S.get)(o,"couponApplied")?(0,l.jsx)(ae,{currency:d,couponCartDetail:o,currencyOption:a,removeCoupon:h}):(0,l.jsxs)("div",{className:"coupon-code-wrapper",children:[(0,l.jsx)("h5",{className:"mb-30",children:"Coupon"}),(0,l.jsx)("form",{method:"post",onSubmit:p,children:(0,l.jsxs)("div",{className:"coupon-form-group",children:[(0,l.jsx)(C.Z,{type:"text",placeholder:"Enter Coupon Code...",value:c,onChange:function(e){return u(e.target.value.toUpperCase())}}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("button",{disabled:!c,type:"submit",className:"btn btn-md primary-btn-color apply-coupon-btn",name:"coupon",children:m?(0,l.jsx)(te.Z,{animation:"border",size:"sm",variant:"light"}):"Apply Coupon"})})]})})]}),(0,l.jsx)(ue.Z,{totalSummary:r,couponCartDetail:o})]})})},me=pe;pe.propTypes={cartLoading:A().bool.isRequired,cartItems:A().array.isRequired,removeToCart:A().func.isRequired,updateCartProductQuantity:A().func.isRequired,currencyOption:A().any,totalSummary:A().object.isRequired,couponCartDetail:A().object.isRequired,currency:A().any,couponCode:A().any,setCouponCode:A().func.isRequired,doApplyCouponCode:A().func.isRequired,CouponLoading:A().bool.isRequired,removeCoupon:A().func.isRequired};var he=t(29020),ge=t(86501),ve=t(31815),fe=t(52586),ye=t(80487),xe=t(6995),je=t(51649),Ze={layout:"vertical",color:"blue",shape:"rect",label:"paypal"},be=function(e){var n=e.customerId,t=e.session,i=e.billingDetails,a=e.couponCartDetail,r=e.setBillingDetails,o=e.setPaymentMethod,u=(0,c.useRef)(),p=(0,U.useRouter)(),m=(0,g.I0)(),v=(0,c.useState)(!1),f=v[0],y=v[1],x=(0,c.useState)(null),j=x[0],Z=x[1];return(0,c.useEffect)((function(){var e="";window.paypal&&window.paypal.Buttons?(Z(""),window.paypal.Buttons({style:Ze,createOrder:function(){var o=(0,s.Z)((function(s,o,l){var c,u;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,xe.M)(n,t,y,i,m,a,r,p)];case 1:return c=s.sent(),u=(0,S.get)(c,"paypalOrderId"),e=(0,S.get)(c,"orderId"),[2,u]}}))}));return function(e,n,t){return o.apply(this,arguments)}}(),onApprove:function(){var n=(0,s.Z)((function(n,t){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.order.capture()];case 1:return"COMPLETED"===n.sent().status&&p.push({pathname:ye.Kh,query:{orderId:e}}),[2]}}))}));return function(e,t){return n.apply(this,arguments)}}(),onError:function(e){}}).render(u.current)):Z("Unable to load PayPal.")}),[]),(0,l.jsxs)(h.Z,{className:"empty-checkout-page",children:[(0,l.jsx)("div",{className:"paypal-back-btn",onClick:function(){return o("")},children:(0,l.jsx)(je.D_,{})}),f&&(0,l.jsx)(fe.Z,{}),j&&(0,l.jsx)("div",{className:"error-message paypal-error-message",children:j}),(0,l.jsx)("div",{className:"checkout-unauthorised-container",children:(0,l.jsx)("div",{ref:u})})]})};be.propTypes={customerId:A().string.isRequired,session:A().object.isRequired,setLoading:A().func.isRequired,billingDetails:A().object.isRequired,couponCartDetail:A().object.isRequired,setBillingDetails:A().func.isRequired,setPaymentMethod:A().func.isRequired};var Ne=be,Ce=t(64750),Se=t(66866),_e=t(45543),ke={order_notes:"",zip:"",state:"",city:"",addressLine2:"",address:"",phone:"",email:"",lastname:"",firstname:"",country:"",paymentMethod:"",transaction_id:"",addressType:"",_id:"",defaultAddress:!1},Te={order_notes:"",zip:"",state:"",city:"",addressLine2:"",address:"",phone:"",email:"",lastname:"",firstname:"",country:"",addressType:"",_id:"",defaultAddress:!1},we=function(){var e=(0,H.useSession)(),n=(0,g.I0)(),t=(0,c.useState)(!1),u=t[0],v=t[1],f=(0,U.useRouter)(),x=(0,c.useState)([]),j=x[0],Z=x[1],b=(0,c.useState)(""),C=b[0],_=b[1],k=(0,c.useState)(""),T=k[0],I=k[1],A=(0,c.useState)({userId:T||""}),$=A[0],q=A[1],R=(0,g.v9)((function(e){return e.cart})),E=(0,c.useState)([]),P=E[0],D=E[1],L=(0,c.useState)(""),z=L[0],M=L[1],F=(0,c.useState)(ke),O=F[0],K=F[1],Y=(0,c.useState)(Te),W=Y[0],X=Y[1],G=(0,c.useState)(!1),J=G[0],ee=G[1],te=(0,c.useState)(1),se=te[0],ie=te[1],ae=(0,c.useState)({}),re=ae[0],oe=ae[1],de=(0,c.useState)(!1),le=de[0],ce=de[1],ue=(0,c.useState)(""),pe=ue[0],je=ue[1],Ze=function(){return ie((function(e){return e+1}))},be=(0,c.useState)("$"),we=be[0],Ie=be[1],Ae=(0,c.useState)(""),$e=Ae[0],qe=Ae[1],Re=(0,c.useState)({}),Ee=Re[0],Pe=Re[1],De=(0,g.v9)((function(e){return e.setting})),Be=(0,c.useState)({}),Le=Be[0],ze=Be[1],Me=(0,c.useState)(!1),Fe=Me[0],Oe=Me[1],Ke=(0,c.useState)(!1),Qe=(Ke[0],Ke[1]),He=(0,c.useState)(!1),Ye=He[0],Ve=He[1],Ue=(0,c.useState)(!1),We=Ue[0],Xe=Ue[1],Ge=(0,c.useState)(!1),Je=Ge[0],en=Ge[1],nn=(0,g.v9)((function(e){return e.cart}));(0,c.useEffect)((function(){tn()}),[]),(0,c.useEffect)((function(){Qe((0,S.get)(nn,"loading"))}),[(0,S.get)(nn,"loading")]);var tn=function(){var t=(0,s.Z)((function(){var t,s,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,H.getSession)()];case 1:return t=a.sent(),"authenticated"===(null===e||void 0===e?void 0:e.status)||null!==t?(s=(0,S.get)(t,"user.accessToken.customer._id"),n((0,he.v2)(s))):(i=(0,N.PM)("cart"),n((0,he.XZ)(i))),[2]}}))}));return function(){return t.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((function(){var e,n,t;return(0,d.__generator)(this,(function(s){return Ve(!0),n=[],t=[],null===(e=(0,S.get)(nn,"cartItems",[]))||void 0===e||e.map((function(e){var s={_id:(0,S.get)(e,"productId",""),variantId:(0,S.get)(e,"variantId",""),quantity:parseInt((0,S.get)(e,"qty")),productQuantity:(0,S.get)(e,"productQuantity"),name:(0,S.get)(e,"productTitle"),pricing:(0,S.get)(e,"productPrice"),short_description:(0,S.get)(e,"short_description"),feature_image:(0,S.get)(e,"productImage"),url:(0,S.get)(e,"url"),attributes:(0,S.get)(e,"attributes",[]),shippingClass:(0,S.get)(e,"shippingClass"),taxClass:(0,S.get)(e,"taxClass"),discountPercentage:(0,S.get)(e,"discountPercentage"),amount:(0,S.get)(e,"amount"),mrpAmount:(0,S.get)(e,"mrpAmount"),available:(0,S.get)(e,"available")};t.push(s),n.push(s)})),oe((0,r.Z)((0,a.Z)({},re),{grandTotal:(0,S.get)(nn,"totalSummary.grandTotal"),cartTotal:(0,S.get)(nn,"totalSummary.cartTotal"),totalShipping:(0,S.get)(nn,"totalSummary.totalShipping"),totalTax:(0,S.get)(nn,"totalSummary.totalTax"),mrpTotal:(0,S.get)(nn,"totalSummary.mrpTotal"),discountTotal:(0,S.get)(nn,"totalSummary.discountTotal")})),D((0,o.Z)(n)),Ve(!1),[2]}))}));return function(){return e.apply(this,arguments)}}();e()}),[(0,S.get)(nn,"cartItems")]);var sn=function(t,s){Oe(!0);var i=null,d=null===P||void 0===P?void 0:P.map((function(e){return(null===e||void 0===e?void 0:e._id)===(null===t||void 0===t?void 0:t._id)?(i=null===e||void 0===e?void 0:e.quantity,(0,r.Z)((0,a.Z)({},e),{quantity:s})):e}));D((0,o.Z)(d));var l=(0,S.get)(e,"data.user.accessToken.customer._id"),c={userId:l,productId:(0,S.get)(t,"_id"),qty:s};n((0,he.Pg)(c,f)).then((function(e){if(Oe(!1),(0,S.get)(e,"data.changeQty.success"))n((0,he.v2)(l));else{var s=null===P||void 0===P?void 0:P.map((function(e){return(null===e||void 0===e?void 0:e._id)===(null===t||void 0===t?void 0:t._id)?(0,r.Z)((0,a.Z)({},e),{quantity:i}):e}));D((0,o.Z)(s))}Qe(!1)})).catch((function(e){Oe(!1),Qe(!1)}))},an=function(){var t=(0,s.Z)((function(t){var s,i;return(0,d.__generator)(this,(function(a){return Oe(!0),(0,S.get)(t,"_id",""),"authenticated"===(null===e||void 0===e?void 0:e.status)&&(s=(0,S.get)(e,"data.user.accessToken.customer._id"),i={userId:s,productId:null===t||void 0===t?void 0:t._id,variantId:(0,S.get)(t,"variantId","")},(0,N.QF)(Ce.te,i).then((function(e){Oe(!1),(0,S.get)(e,"data.deleteCartProduct.success")&&n((0,he.v2)(s))})).catch((function(e){Oe(!1),(0,N.S3)(e,n,f)}))),[2]}))}));return function(e){return t.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=(0,S.get)(De,"setting.store.currency_options",{});ze((0,a.Z)({},e)),(0,N.m2)(e,Ie)}),[De]),(0,c.useEffect)((function(){if("authenticated"===(null===e||void 0===e?void 0:e.status)){_((0,S.get)(e,"data.user.accessToken.token")),I((0,S.get)(e,"data.user.accessToken.customer._id"));var n=(0,S.get)(e,"data.user.accessToken.customer._id");q((0,r.Z)((0,a.Z)({},$),{userId:n}))}}),[null===e||void 0===e?void 0:e.status]),(0,c.useEffect)((function(){T&&qn()}),[T]),(0,c.useEffect)((function(){var n=function(){var n=(0,s.Z)((function(){var n,t;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,H.getSession)()];case 1:return n=s.sent(),"authenticated"===(null===e||void 0===e?void 0:e.status)||null!==n?(v(!0),t=gn((0,S.get)(R,"cartItems",[])),oe((0,a.Z)({},(0,S.get)(R,"totalSummary"))),(0,N.K9)(t)&&f.push("/shopcart"),(null===t||void 0===t?void 0:t.length)<=0&&f.push("/"),D((0,o.Z)(t)),Pe({})):(D([]),Pe({}),f.push("/login")),[2]}}))}));return function(){return n.apply(this,arguments)}}();n()}),[R]);var rn=function(){var n=(0,s.Z)((function(){var n,t;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,(0,H.getSession)()];case 1:return n=s.sent(),"authenticated"!==(null===e||void 0===e?void 0:e.status)&&null===n||(v(!0),(null===(t=(0,S.get)(R,"cartItems",[]))||void 0===t?void 0:t.length)<=0&&f.push("/")),[2]}}))}));return function(){return n.apply(this,arguments)}}();(0,c.useEffect)((function(){rn()}),[]),(0,c.useEffect)((function(){"authenticated"===(null===e||void 0===e?void 0:e.status)?(_((0,S.get)(e,"data.user.accessToken.token")),I((0,S.get)(e,"data.user.accessToken.customer._id")),v(!0)):v(!1)}),[(0,S.get)(R,"cartItems")]),(0,c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[se]);var on=(0,y.cI)({mode:"onSubmit"}),dn=on.register,ln=on.handleSubmit,cn=on.reset,un=on.formState.errors,pn=on.control,mn=on.setError,hn=function(e){var n=!(0,S.get)($,"billing.addressType"),t=J&&!(0,S.get)($,"shipping.addressType");!n&&!t&&$e&&(null===$e||void 0===$e?void 0:$e.zipSuccess)?!!(0,S.get)($,"billing.id")?Je?An():(Xe(!1),Ze()):In():(n&&mn("addressType",{type:"required",message:"Address Type is required."}),t&&mn("shippingAddressType",{type:"required",message:"Address Type is required."}),!We&&!J&&$e&&(null===$e||void 0===$e?void 0:$e.zipSuccess)&&(0,_e.Z)(null===$e||void 0===$e?void 0:$e.zipMessage,null===$e||void 0===$e?void 0:$e.zipSuccess))},gn=function(e){var n=[];return null===e||void 0===e||e.map((function(e){var t={_id:(0,S.get)(e,"productId",""),variantId:(0,S.get)(e,"variantId",""),quantity:parseInt((0,S.get)(e,"qty")),productQuantity:(0,S.get)(e,"productQuantity"),name:(0,S.get)(e,"productTitle"),pricing:(0,S.get)(e,"productPrice"),feature_image:(0,S.get)(e,"productImage"),url:(0,S.get)(e,"url"),attributes:(0,S.get)(e,"attributes",[]),shippingClass:(0,S.get)(e,"shipping.shippingClass"),taxClass:(0,S.get)(e,"taxClass"),discountPercentage:(0,S.get)(e,"discountPercentage"),amount:(0,S.get)(e,"amount"),mrpAmount:(0,S.get)(e,"mrpAmount"),available:(0,S.get)(e,"available")};n.push(t)})),n},vn=function(){"authenticated"===(null===e||void 0===e?void 0:e.status)&&T&&n((0,he.v2)(T))},fn=function(){var e=(0,s.Z)((function(e){var n,t,s;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n={zipcode:e.toString()},e?[4,(0,N.Wn)(ve.bO,n)]:[3,2];case 1:t=i.sent(),s=t.data,(0,_e.Z)((0,S.get)(s,"checkZipcode.message"),(0,S.get)(s,"checkZipcode.success")),qe((0,r.Z)((0,a.Z)({},$e),{shipping:J,zipMessage:(0,S.get)(s,"checkZipcode.message"),zipSuccess:(0,S.get)(s,"checkZipcode.success")})),i.label=2;case 2:return[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),yn=function(e){var n=(0,S.get)(e,"target"),t=n.name,s=n.value;J||X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},t,s))),K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},t,s)))},xn=function(e){q((0,a.Z)({},$,e))},jn=function(e){q((0,a.Z)({},$,e))},Zn=function(e,n){if(n)"addressType"===n?(J||X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},n,null===e||void 0===e?void 0:e.value))),K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},n,null===e||void 0===e?void 0:e.value)))):"paymentMethod"===n?K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},n,e))):"defaultAddress"===n&&K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},n,(0,S.get)(e,"target.checked",!1))));else{var t=(0,S.get)(e,"target"),s=t.name,o=t.value;J||"paymentMethod"===s||X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},s,o))),K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},s,o)))}},bn=function(e,n){if("addressType"===n)X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},n,null===e||void 0===e?void 0:e.value))),K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},n,null===e||void 0===e?void 0:e.value)));else{var t=(0,S.get)(e,"target"),s=t.name,o=t.value;X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},s.slice(8),o)))}},Nn=function(e,n){J||X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},e,n))),K((0,r.Z)((0,a.Z)({},O),(0,i.Z)({},e,n)))},Cn=function(e,n){X((0,r.Z)((0,a.Z)({},W),(0,i.Z)({},e,n)))},Sn=function(e){return!!Object.values(e).some((function(e){return!!e}))},_n=function(e){var n,t;(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.checked)?(W,X((0,a.Z)({},O,Te)),qe((0,r.Z)((0,a.Z)({},$e),{zipMessage:"",zipSuccess:!1}))):(fn(null===O||void 0===O?void 0:O.zip),X(O)),ee(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked)},kn=function(){var e=(0,s.Z)((function(e){var n,t,s,i,o;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return[4,(0,H.getSession)()];case 1:return n=d.sent(),t=(0,S.get)(n,"user.accessToken.customer"),Xe(!1),s={zip:(null===e||void 0===e?void 0:e.pincode)||"",state:(null===e||void 0===e?void 0:e.state)||"",city:null===e||void 0===e?void 0:e.city,addressLine2:(null===e||void 0===e?void 0:e.addressLine2)||"",address:(null===e||void 0===e?void 0:e.addressLine1)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",email:(null===t||void 0===t?void 0:t.email)||"",lastname:(null===e||void 0===e?void 0:e.lastName)||"",firstname:(null===e||void 0===e?void 0:e.firstName)||"",country:(null===e||void 0===e?void 0:e.country)||"",addressType:(null===e||void 0===e?void 0:e.addressType)||"",id:(null===e||void 0===e?void 0:e._id)||"",_id:(null===e||void 0===e?void 0:e._id)||"",defaultAddress:(null===e||void 0===e?void 0:e.defaultAddress)||!1},i=s,o=(0,r.Z)((0,a.Z)({},s),{paymentMethod:null===e||void 0===e?void 0:e.paymentMethod}),J||(X(i),(0,S.get)(e,"_id")!==(0,S.get)(O,"_id")&&fn((0,S.get)(e,"pincode",""))),K(o),cn(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Tn=function(){var e=(0,s.Z)((function(e){var n,t;return(0,d.__generator)(this,(function(s){return e.preventDefault(),n={userId:T,couponCode:"".concat(pe)},t=0,ce(!0),(0,N.IO)(ne,n,C).then((function(e){t=(0,S.get)(e,"data.calculateCoupon");var n=gn((0,S.get)(t,"cartItems",[]));D((0,o.Z)(n)),oe((0,a.Z)({},(0,S.get)(t,"totalSummary",{}))),(0,S.get)(t,"success")?(Pe((0,a.Z)({},(0,S.get)(t,"couponCard",{}))),je(""),(0,_e.Z)((0,S.get)(t,"message"),!0)):((0,_e.Z)((0,S.get)(t,"message")),Pe((0,a.Z)({},(0,S.get)(t,"couponCard",{}))))})).finally((function(){return ce(!1)})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),wn=function(){var t=(0,s.Z)((function(t){var s,i,a;return(0,d.__generator)(this,(function(r){return s=(0,S.get)($,"billing.paymentMethod"),i=(0,S.get)(De,"setting.payment.razorpay.test_mode",""),a="",a=i?(0,S.get)(De,"setting.payment.razorpay.sandbox_client_id",""):(0,S.get)(De,"setting.payment.razorpay.live_client_id",""),t.preventDefault(),s===ye.YR?M(s):(0,xe.M)(T,e,Oe,$,n,Ee,q,f,a),[2]}))}));return function(e){return t.apply(this,arguments)}}(),In=function(){var e=(0,s.Z)((function(){var e,t,i,o,l,c,u,p,m,h,g,v,y;return(0,d.__generator)(this,(function(x){return Oe(!0),e=(0,S.get)($,"billing"),t=e.firstname,i=e.lastname,o=e.address,l=e.addressLine2,c=e.city,u=e.country,p=e.state,m=e.phone,h=e.zip,g=e.addressType,v=e.defaultAddress,y={id:T,firstName:t,lastName:i,phone:m,addressLine1:o,addressLine2:l,city:c,country:u,state:p,pincode:h,addressType:g||"",defaultAddress:v},(0,N.QF)(Se.Km,y).then(function(){var e=(0,s.Z)((function(e){var n,t,s;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return Oe(!1),n=(0,S.get)(e,"data.addAddressBook.success"),t=(0,S.get)(e,"data.addAddressBook.message"),s=(0,S.get)(e,"data.addAddressBook.data"),n?((0,_e.Z)(t,n),K((0,r.Z)((0,a.Z)({},O),{id:null===s||void 0===s?void 0:s._id})),Xe(!1),Ze(),[4,$n()]):[3,2];case 1:i.sent(),i.label=2;case 2:return n||(0,_e.Z)(t,n),[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){Oe(!1),(0,N.S3)(e,n,f)})),[2]}))}));return function(){return e.apply(this,arguments)}}(),An=function(){var e=(0,s.Z)((function(){var e,t,i,a,r,o,l,c,u,p,m,h,g,v;return(0,d.__generator)(this,(function(y){return Oe(!0),e=(0,S.get)($,"billing"),t=e.firstname,i=e._id,a=e.lastname,r=e.address,o=e.addressLine2,l=e.city,c=e.country,u=e.state,p=e.phone,m=e.zip,h=e.addressType,g=e.defaultAddress,v={id:T,_id:i,firstName:t,lastName:a,phone:p,addressLine1:r,addressLine2:o,city:l,country:c,state:u,pincode:m,addressType:h||"",defaultAddress:g},(0,N.QF)(Se.ZB,v).then(function(){var e=(0,s.Z)((function(e){var n,t;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return Oe(!1),n=(0,S.get)(e,"data.updateAddressBook.success"),t=(0,S.get)(e,"data.updateAddressBook.message"),(0,S.get)(e,"data.updateAddressBook.data"),n?((0,_e.Z)(t,n),Ze(),en(!1),[4,$n()]):[3,2];case 1:s.sent(),s.label=2;case 2:return n||(0,_e.Z)(t,n),[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){Oe(!1),(0,N.S3)(e,n,f)})),[2]}))}));return function(){return e.apply(this,arguments)}}(),$n=function(){var e=(0,s.Z)((function(){var e,n,t,s;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,N.IO)(Se.Vj,{id:T})];case 1:return e=i.sent(),n=e.data,t=(0,S.get)(n,"customer.data"),s=(0,S.get)(t,"addressBook",[]),Z(s),[2,t];case 2:return i.sent(),Z([]),[2,[]];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),qn=function(){var e=(0,s.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,$n()];case 1:return e=t.sent(),n=function(e){cn();var n=(0,S.get)(e,"addressBook",[]);if(n&&0<(null===n||void 0===n?void 0:n.length)){var t=null===n||void 0===n?void 0:n.find((function(e){return null===e||void 0===e?void 0:e.defaultAddress})),s=(t=t||n[0]).pincode,i=t.state,o=t.city,d=t.addressLine1,l=t.addressLine2,c=t.phone,u=t.lastName,p=t.firstName,m=t.addressType,h=t.country,g=t._id,v=t.defaultAddress,f={zip:s||"",state:i||"",city:o||"",addressLine2:l||"",address:d||"",phone:c||"",addressType:m||"",email:(null===e||void 0===e?void 0:e.email)||"",lastname:u||"",firstname:p||"",country:h||"",id:g||"",defaultAddress:v||!1};return fn((0,S.get)(f,"zip")),f}var y=e||{},x=y.email,j=y.phone,Z=y.firstName,b=y.lastName;return(0,r.Z)((0,a.Z)({},ke),{email:x,firstname:Z,lastname:b,phone:j})}(e),Sn(O)||We||K((0,a.Z)({},n)),Sn(W)||We||J||X((0,a.Z)({},n)),[2]}}))}));return function(){return e.apply(this,arguments)}}();if(u)switch(se){case 1:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ge.x7,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m.Z,{title:"checkout"}),(0,l.jsx)("section",{className:"checkout-section",children:(0,l.jsx)(h.Z,{children:(0,l.jsxs)("div",{className:"col-lg-12 first-checkout-page",children:[(0,l.jsxs)("div",{className:"first-checkout-page-container",children:[(0,l.jsx)(Q,{addressBook:j,toggleAddNewAddressForm:function(){cn(),en(!1),Xe(!0),J||X((0,a.Z)({},Te)),K((0,a.Z)({},ke)),q((0,r.Z)((0,a.Z)({},$),{billing:ke,shipping:Te})),J||qe((0,r.Z)((0,a.Z)({},$e),{zipMessage:"",zipSuccess:!1}))},setBillingInfo:K,SelectAddressBook:kn,billingInfo:O,shippingInfo:W,shippingAdd:J,getBillingInfo:xn,editCustomerAddress:function(e){en(!0),Xe(!1),K((0,a.Z)({},O,e))}}),(We||0===(null===j||void 0===j?void 0:j.length))&&(0,l.jsx)("h5",{children:"Add New Address"}),Je&&(0,l.jsx)("h5",{children:"Edit Address"}),(0,l.jsxs)("form",{onSubmit:ln(hn),children:[(0,l.jsx)(w,{isEditAddress:Je,checkCode:fn,setZipMessage:qe,control:pn,ZipMessage:$e,handleZipCode:yn,billingInfo:O,shippingInfo:W,handlePhoneInput:Nn,handleShippingPhone:Cn,shippingAdd:J,setShippingAdd:ee,handleBillingInfo:Zn,handleShippingChange:bn,shippingAddressToggle:_n,registerRef:dn,errorRef:un,getBillingInfo:xn,isAddNewAddressForm:We,addressList:j}),(0,l.jsx)("button",{type:"submit",className:"btn btn-success primary-btn-color checkout-continue-btn",children:"NEXT"})]})]}),Fe&&(0,l.jsx)(fe.Z,{}),(0,l.jsx)("div",{className:"cupon-cart",children:(0,l.jsx)(me,{cartLoading:Ye,cartItems:P,removeToCart:an,totalSummary:re,updateCartProductQuantity:sn,removeCoupon:vn,currencyOption:Le,currency:we,couponCartDetail:Ee,CouponLoading:le,Data:!0,doApplyCouponCode:Tn,couponCode:pe,setCouponCode:je})})]})})})]})]});case 2:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ge.x7,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m.Z,{title:"checkout"}),(0,l.jsx)("section",{className:"checkout-section",children:(0,l.jsx)(h.Z,{children:z===ye.YR?(0,l.jsx)(Ne,{customerId:T,session:e,setLoading:Oe,billingDetails:$,couponCartDetail:Ee,setBillingDetails:q,setPaymentMethod:M}):(0,l.jsxs)("div",{className:"col-lg-12 third-container-checkout",children:[(0,l.jsxs)("div",{className:"checkout-coupon-container",children:[(0,l.jsx)(V,{currency:we,shippingInfo:W,prevFormStep:function(){return ie((function(e){return e-1}))},shippingAdd:J,billingInfo:O}),Fe&&(0,l.jsx)(fe.Z,{}),(0,l.jsx)(B,{settings:De,currency:we,billingInfo:O,shippingInfo:W,handleBillingInfo:Zn,cartItems:P,getOrderDetails:jn}),(0,l.jsx)("button",{type:"submit",className:"btn btn-success primary-btn-color checkout-continue-btn mt-4",onClick:wn,disabled:!O.paymentMethod,children:"PLACE ORDER"})]}),(0,l.jsx)("div",{className:"checkout-order-summary-container",children:(0,l.jsx)(me,{cartLoading:Ye,cartItems:P,removeToCart:an,totalSummary:re,updateCartProductQuantity:sn,removeCoupon:vn,currencyOption:Le,currency:we,couponCartDetail:Ee,CouponLoading:le,Data:!0,doApplyCouponCode:Tn,couponCode:pe,setCouponCode:je})})]})})})]})]})}return(0,l.jsxs)("div",{children:[(0,l.jsx)(m.Z,{title:"checkout"}),(0,l.jsx)("section",{className:"checkout-section",children:u&&P&&0<(null===P||void 0===P?void 0:P.length)?(0,l.jsxs)(h.Z,{children:[(0,l.jsx)("div",{className:"account-coupon-box row",children:(0,l.jsx)("div",{className:"account-check col-md-6",children:(0,l.jsx)("div",{className:"toggle-info",children:(0,l.jsxs)("p",{children:[(0,l.jsx)("i",{class:"far fa-user"})," Already have an account ?"," ",(0,l.jsx)(p(),{href:"/login",children:(0,l.jsx)("a",{children:"Click here to login"})})]})})})}),(0,l.jsx)("hr",{className:"mt-50 mb-50 devider checkout-billing-details"}),(0,l.jsx)("div",{className:"billing-form-container container",children:(0,l.jsxs)("form",{onSubmit:ln(hn),children:[(0,l.jsxs)("div",{className:"checkout-bill-container row",children:[(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"billing-container",children:[(0,l.jsx)("h5",{children:"Billing Details"}),(0,l.jsx)(w,{control:pn,setZipMessage:qe,checkCode:fn,ZipMessage:$e,handleZipCode:yn,billingInfo:O,shippingInfo:W,handlePhoneInput:Nn,handleShippingPhone:Cn,shippingAdd:J,setShippingAdd:ee,handleBillingInfo:Zn,handleShippingChange:bn,shippingAddressToggle:_n,registerRef:dn,errorRef:un,getBillingInfo:xn})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"your-order-container",children:[(0,l.jsx)("h5",{children:"Your Order"}),(0,l.jsx)(B,{settings:De,currency:we,billingInfo:O,shippingInfo:W,handleBillingInfo:Zn,cartItems:P,getOrderDetails:jn})]})})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-success primary-btn-color",children:"Place Order"})]})})]}):(0,l.jsxs)(h.Z,{className:"empty-checkout-page",children:[(0,l.jsx)("div",{className:"checkout-unauthorised-container",children:(0,l.jsx)("h3",{children:"Please Login First"})}),(0,l.jsx)("div",{className:"checkout-unauthorised-container",children:(0,l.jsx)(p(),{href:"/login",children:(0,l.jsx)("button",{type:"button",className:"btn btn-success primary-btn-color checkout-login-btn",children:"login"})})})]})})]})},Ie=we},66866:function(e,n,t){"use strict";t.d(n,{Km:function(){return v},Ve:function(){return h},Vj:function(){return g},Wn:function(){return f},ZB:function(){return y},bk:function(){return j},lR:function(){return x}});var s=t(7297),i=t(19989);function a(){var e=(0,s.Z)(["\n  mutation (\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n    $password: String\n  ) {\n    addCustomer(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n      password: $password\n    ) {\n      message\n      success\n      __typename\n    }\n  }\n"]);return a=function(){return e},e}function r(){var e=(0,s.Z)(["\n  query {\n    customers {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n      message {\n        message\n        success\n      }\n    }\n  }\n"]);return r=function(){return e},e}function o(){var e=(0,s.Z)(["\n  query ($id: ID!) {\n    customer(id: $id) {\n      data {\n        id\n        firstName\n        lastName\n        email\n        company\n        phone\n        addressBook\n        date\n        updated\n      }\n    }\n  }\n"]);return o=function(){return e},e}function d(){var e=(0,s.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    addAddressBook(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n      data\n    }\n  }\n"]);return d=function(){return e},e}function l(){var e=(0,s.Z)(["\n  mutation (\n    $id: ID!\n    $firstName: String\n    $lastName: String\n    $email: String\n    $company: String\n    $phone: String\n  ) {\n    updateCustomer(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      company: $company\n      phone: $phone\n    ) {\n      message\n      success\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,s.Z)(["\n  mutation (\n    $id: ID!\n    $_id: ID!\n    $firstName: String\n    $lastName: String\n    $company: String\n    $phone: String\n    $addressLine1: String\n    $addressLine2: String\n    $city: String\n    $country: String\n    $state: String\n    $pincode: String\n    $addressType: ADDRESS_TYPE\n    $defaultAddress: Boolean\n  ) {\n    updateAddressBook(\n      id: $id\n      _id: $_id\n      firstName: $firstName\n      lastName: $lastName\n      company: $company\n      phone: $phone\n      addressLine1: $addressLine1\n      addressLine2: $addressLine2\n      city: $city\n      country: $country\n      state: $state\n      pincode: $pincode\n      addressType: $addressType\n      defaultAddress: $defaultAddress\n    ) {\n      message\n      success\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,s.Z)(["\n  mutation ($id: ID!, $_id: ID!) {\n    deleteAddressBook(id: $id, _id: $_id) {\n      message\n      success\n    }\n  }\n"]);return u=function(){return e},e}function p(){var e=(0,s.Z)(["\n  mutation ($email: String, $oldPassword: String, $newPassword: String) {\n    resetPassword(\n      email: $email\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      message\n      success\n    }\n  }\n"]);return p=function(){return e},e}function m(){var e=(0,s.Z)(["\n  query ($id: ID!) {\n    cartbyUser(userId: $id) {\n      date\n      id\n      products\n      status\n      total\n      updated\n      userId\n    }\n  }\n"]);return m=function(){return e},e}var h=(0,i.ZP)(a()),g=((0,i.ZP)(r()),(0,i.ZP)(o())),v=(0,i.ZP)(d()),f=(0,i.ZP)(l()),y=(0,i.ZP)(c()),x=(0,i.ZP)(u()),j=(0,i.ZP)(p());(0,i.ZP)(m())},14802:function(e,n,t){"use strict";t.d(n,{YC:function(){return l},aO:function(){return r},oH:function(){return d},q$:function(){return o}});var s=t(35157),i=/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/,a=/^[\w-+]+(\.[\w-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/,r=function(e){return i.test(e)||"Passwords must have at least 8 characters and contain at least one letter and one number"},o=function(e){var n=(null===e||void 0===e?void 0:e.replace(/\D/g,""))||"",t="+".concat(n);return(0,s.yf)(t)||"Please enter a valid phone number"},d=function(e){return a.test(e)||"Please enter a valid email"},l=function(e,n){return e===n||"Passwords do not match"}},79745:function(){},16518:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var s=t(94184),i=t.n(s),a=t(91505),r=t(67294),o=t(8662),d=t(32646);var l=function(...e){return e.filter((e=>null!=e)).reduce(((e,n)=>{if("function"!==typeof n)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?n:function(...t){e.apply(this,t),n.apply(this,t)}}),null)},c=t(34509),u=t(9337),p=t(85893);const m={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function h(e,n){const t=n[`offset${e[0].toUpperCase()}${e.slice(1)}`],s=m[e];return t+parseInt((0,a.Z)(n,s[0]),10)+parseInt((0,a.Z)(n,s[1]),10)}const g={[o.Wj]:"collapse",[o.Ix]:"collapsing",[o.d0]:"collapsing",[o.cn]:"collapse show"},v={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:h},f=r.forwardRef((({onEnter:e,onEntering:n,onEntered:t,onExit:s,onExiting:a,className:o,children:m,dimension:v="height",getDimensionValue:f=h,...y},x)=>{const j="function"===typeof v?v():v,Z=(0,r.useMemo)((()=>l((e=>{e.style[j]="0"}),e)),[j,e]),b=(0,r.useMemo)((()=>l((e=>{const n=`scroll${j[0].toUpperCase()}${j.slice(1)}`;e.style[j]=`${e[n]}px`}),n)),[j,n]),N=(0,r.useMemo)((()=>l((e=>{e.style[j]=null}),t)),[j,t]),C=(0,r.useMemo)((()=>l((e=>{e.style[j]=`${f(j,e)}px`,(0,c.Z)(e)}),s)),[s,f,j]),S=(0,r.useMemo)((()=>l((e=>{e.style[j]=null}),a)),[j,a]);return(0,p.jsx)(u.Z,{ref:x,addEndListener:d.Z,...y,"aria-expanded":y.role?y.in:null,onEnter:Z,onEntering:b,onEntered:N,onExit:C,onExiting:S,childRef:m.ref,children:(e,n)=>r.cloneElement(m,{...n,className:i()(o,m.props.className,g[e],"width"===j&&"collapse-horizontal")})})}));f.defaultProps=v;var y=f},36968:function(e,n,t){"use strict";var s=t(94184),i=t.n(s),a=t(67294),r=t(76792),o=t(85893);const d=a.forwardRef((({bsPrefix:e,variant:n,animation:t,size:s,as:a="div",className:d,...l},c)=>{const u=`${e=(0,r.vE)(e,"spinner")}-${t}`;return(0,o.jsx)(a,{ref:c,...l,className:i()(d,u,s&&`${u}-${s}`,n&&`text-${n}`)})}));d.displayName="Spinner",n.Z=d},9337:function(e,n,t){"use strict";var s=t(67294),i=t(8662),a=t(35654),r=t(8285),o=t(85893);const d=s.forwardRef((({onEnter:e,onEntering:n,onEntered:t,onExit:d,onExiting:l,onExited:c,addEndListener:u,children:p,childRef:m,...h},g)=>{const v=(0,s.useRef)(null),f=(0,a.Z)(v,m),y=e=>{f((0,r.Z)(e))},x=e=>n=>{e&&v.current&&e(v.current,n)},j=(0,s.useCallback)(x(e),[e]),Z=(0,s.useCallback)(x(n),[n]),b=(0,s.useCallback)(x(t),[t]),N=(0,s.useCallback)(x(d),[d]),C=(0,s.useCallback)(x(l),[l]),S=(0,s.useCallback)(x(c),[c]),_=(0,s.useCallback)(x(u),[u]);return(0,o.jsx)(i.ZP,{ref:g,...h,onEnter:j,onEntered:b,onEntering:Z,onExit:N,onExited:S,onExiting:C,addEndListener:_,nodeRef:v,children:"function"===typeof p?(e,n)=>p(e,{...n,ref:y}):s.cloneElement(p,{ref:y})})}));n.Z=d},8285:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var s=t(73935);function i(e){return e&&"setState"in e?s.findDOMNode(e):null!=e?e:null}},32646:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var s=t(91505),i=t(7130);function a(e,n,t){void 0===t&&(t=5);var s=!1,a=setTimeout((function(){s||function(e,n,t,s){if(void 0===t&&(t=!1),void 0===s&&(s=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(n,t,s),e.dispatchEvent(i)}}(e,"transitionend",!0)}),n+t),r=(0,i.Z)(e,"transitionend",(function(){s=!0}),{once:!0});return function(){clearTimeout(a),r()}}function r(e,n,t,r){null==t&&(t=function(e){var n=(0,s.Z)(e,"transitionDuration")||"",t=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*t}(e)||0);var o=a(e,t,r),d=(0,i.Z)(e,"transitionend",n);return function(){o(),d()}}function o(e,n){const t=(0,s.Z)(e,n)||"",i=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*i}function d(e,n){const t=o(e,"transitionDuration"),s=o(e,"transitionDelay"),i=r(e,(t=>{t.target===e&&(i(),n(t))}),t+s)}},34509:function(e,n,t){"use strict";function s(e){e.offsetHeight}t.d(n,{Z:function(){return s}})}},function(e){e.O(0,[9866,8674,4938,8662,6e3,7627,7555,4532,3156,9774,2888,179],(function(){return n=55248,e(e.s=n);var n}));var n=e.O();_N_E=n}]);